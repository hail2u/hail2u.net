<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>:target and history.replaceState()</title>


    <style>
      #test:target {
        color: green;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>:target and history.replaceState()</h1>

      <p><code>history.*State()</code>でハッシュを消した場合、CSSの<code>:target</code>擬似クラスによるスタイルは動的に変更されるか。</p>
    </header>

    <section id="test">
      <h1>Enable :target</h1>

      <p>This text is green when hash is <code>#test</code>.</p>

      <p><a href="#test">Enable #test:target</a></p>

      <p><button id="disable">Disbale #test:target by history.replaceState()</button></p>

      <p>Chrome 39、Internet Explorer 11、Firefox 34、Chrome 41とFirefox 36では動的に変更されない。</p>
    </section>

    <script>
      document.getElementById('disable').addEventListener('click', function () {
        history.replaceState('', '', location.pathname);
      }, false);
    </script>
  </body>
</html>
