<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">

    <title>Scroll Down Smoothly with CSS Transition</title>

    <link href="http://hail2u.net/styles/natural.min.css" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1>Scroll Down Smoothly with CSS Transition</h1>

      <p>下方向へCSS Transitionを使ってスクロールしているように見せる。<code>transform: translateY()</code>を使った後、<code>ontransitionend</code>で<code>scrollIntoView()</code>する。<del>最後のズレはページ下部のマージン？</del></p>
    </header>

    <section class="test">
      <h1>Lorem Ipsum</h1>

      <section class="test">
        <p><button id="to-bottom">Jump to Bottom</button> <button id="to-middle">Jump to Middle</button></p>
      </section>

      <p>Dolor sit amet, consectetur adipiscing elit. Donec sagittis gravida erat, et aliquet ex vehicula sit amet. Suspendisse eget lectus massa. Praesent volutpat dapibus tortor eget tincidunt. Etiam id metus nec quam ultrices eleifend vitae maximus ipsum. Ut quis mi sagittis, porttitor augue vel, scelerisque turpis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nullam pharetra lectus nec accumsan tincidunt. Integer neque mauris, volutpat at fringilla eu, molestie sit amet justo. In lacinia nisi in metus viverra volutpat. Aliquam erat volutpat.</p>

      <p>Aenean magna justo, bibendum sit amet ipsum in, vulputate mollis magna. Donec nisl mi, suscipit vitae interdum vel, fringilla eget nunc. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum posuere vehicula ex, nec pretium urna vulputate non. Nam in vulputate justo, sed consectetur diam. Phasellus tristique nulla sit amet lacus ultricies commodo. Cras sed tincidunt orci. Integer venenatis ligula a arcu aliquet, eu semper metus aliquet. Nulla facilisi. Etiam pharetra dignissim neque non hendrerit. Nulla tincidunt lacinia diam eget congue. Maecenas tristique lorem at ultrices euismod. Proin aliquet aliquet risus, nec ultrices massa ullamcorper ut. Nullam sollicitudin a erat quis eleifend. Duis sit amet ex arcu.</p>

      <p>Phasellus sagittis, tellus dictum blandit imperdiet, orci magna bibendum tortor, id auctor nisi mi sed leo. Nam ac hendrerit neque, quis placerat risus. Nulla imperdiet iaculis justo nec rutrum. Integer accumsan mauris ipsum. Nam nisl metus, congue at tellus sed, porttitor vestibulum urna. Mauris enim nibh, dapibus vitae mollis et, consequat quis mauris. Suspendisse vel magna interdum, semper justo et, sagittis ante. Mauris pellentesque nisl auctor ligula eleifend, id sodales libero iaculis. Praesent fringilla, nisi vel volutpat semper, sapien urna ultrices risus, sed rhoncus ante quam non lorem. Sed non ultrices metus. Duis consequat ligula ut sapien auctor auctor.</p>

      <p>Ligula sit amet pellentesque eleifend, metus tellus sagittis orci, tincidunt aliquam ante ligula quis libero. Curabitur sapien urna, lacinia ac dignissim non, sagittis ut nulla. Praesent porttitor urna vel diam consectetur, non tempor ex tempor. Morbi porttitor ligula non lorem consectetur, rhoncus ultrices purus consectetur. Etiam facilisis volutpat ultrices. Sed dictum felis semper, dapibus felis a, tincidunt mauris. Etiam orci lacus, ullamcorper eget blandit pharetra, efficitur eget urna. Maecenas in erat porta, blandit neque nec, luctus massa. Integer bibendum, odio at rutrum ornare, enim justo dapibus nulla, et elementum turpis enim a magna. Nullam ut lacinia turpis. Praesent quis arcu vel dui luctus laoreet nec sed orci. Vivamus mattis eget neque nec ornare.</p>

      <p>Suspendisse aliquam lacus vel dolor semper, sed porttitor ex malesuada. Vivamus id imperdiet nunc. Donec aliquet, eros a tincidunt lacinia, sem nunc venenatis tellus, ut placerat libero enim vel urna. Morbi non efficitur lectus. Nunc semper, orci et cursus maximus, nulla eros molestie neque, vel sollicitudin mauris dui id nisi. Fusce ligula risus, commodo id iaculis eu, consectetur laoreet sem. Maecenas suscipit leo nec urna pulvinar tempus. Mauris vestibulum molestie est tincidunt tristique. Fusce hendrerit, risus id ullamcorper vehicula, nulla justo finibus orci, eget vehicula eros neque vitae felis. Fusce ut accumsan dui. Maecenas suscipit tellus in quam suscipit, sit amet aliquam nulla vehicula.</p>

      <p>Fermentum elit. Phasellus a ante volutpat nulla consectetur tempor. Nunc venenatis ullamcorper urna, id efficitur est pellentesque sit amet. Fusce placerat, ipsum ac maximus ultricies, magna velit imperdiet ex, quis volutpat diam nisi sit amet leo. Praesent sollicitudin, lectus sit amet blandit ullamcorper, nunc ligula iaculis neque, nec mollis dolor lectus vel leo. Donec faucibus auctor eros eu auctor. Praesent varius commodo tincidunt. Curabitur ultricies metus mauris, non semper massa sagittis id.</p>

      <p>Maecenas dui ante, viverra sit amet risus nec, imperdiet mollis leo. Ut vitae ex non nisi gravida tempus. Quisque tristique felis ac diam tempor, sed suscipit quam viverra. Integer lacinia nunc est, sed aliquet erat placerat at. Etiam eget semper erat, eget molestie purus. Quisque eu velit lacus. Fusce mollis imperdiet mi sed pellentesque.</p>

      <p>Sed fermentum eget neque sed laoreet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque vehicula euismod turpis non eleifend. Aenean rutrum et nisi in ullamcorper. Nunc volutpat risus id ornare fringilla. Vivamus elementum tellus risus, iaculis convallis metus consectetur sit amet. Donec vel auctor tellus. Duis maximus erat eget condimentum maximus.</p>

      <p>Donec et mauris non eros sagittis ultrices ac pellentesque dolor. Nulla fermentum maximus justo ornare faucibus. Duis sem quam, porttitor ac neque ut, tempor iaculis sapien. Cras ut viverra nulla. Vestibulum quis lorem pellentesque, pharetra lacus nec, pellentesque turpis. In enim orci, feugiat vitae ligula ut, molestie varius tellus. Pellentesque in viverra mi, ac ultrices orci. Curabitur ullamcorper nulla lectus, non semper nunc tincidunt eu. Nullam et justo justo. Proin id ligula nec sem maximus porta et nec nibh. Suspendisse diam lorem, venenatis sit amet volutpat nec, condimentum eu velit. Duis a eros laoreet, vestibulum turpis in, sagittis erat. Integer fermentum, nibh vitae fermentum euismod, elit dolor malesuada dolor, non commodo dui libero et lorem.</p>

      <p>Libero eu ipsum hendrerit varius. Nullam consequat feugiat laoreet. Donec ut sem sem. Nam rutrum nunc sed velit ultricies condimentum. Vestibulum in ex id lectus laoreet commodo vel nec lorem. Donec mollis dui ut congue pellentesque. Praesent lobortis imperdiet eros, non convallis neque cursus vel. Aenean convallis neque posuere, mollis metus vel, tempor nisl. Phasellus sodales nisl tellus, varius tristique nisi consequat a. Praesent iaculis blandit commodo. Nulla iaculis sem a lorem consectetur vulputate. Nulla mi eros, mattis quis purus ut, pulvinar fringilla lectus. Quisque volutpat nisi rhoncus enim iaculis, in euismod quam convallis. Maecenas at elementum ligula.</p>

      <section id="middle">
        <h1>Hi!</h1>

        <p>It’s middle of this page!</p>
      </section>

      <p>Morbi facilisis molestie felis ac laoreet. Duis id consequat libero. Proin ullamcorper sem nec mauris sollicitudin semper. Suspendisse id eros et magna pulvinar venenatis. In gravida luctus risus ut ullamcorper. Nulla imperdiet faucibus bibendum. Quisque vitae dapibus ligula, sit amet sollicitudin nunc. Nulla nec volutpat lorem.</p>

      <p>Mi nunc. Interdum et malesuada fames ac ante ipsum primis in faucibus. Suspendisse quis convallis dui. Maecenas tristique velit non vehicula malesuada. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas ante mi, blandit ut justo eu, lacinia vulputate ligula. Nulla vestibulum venenatis dolor et pretium. Nam fermentum accumsan augue at imperdiet. Duis lacus augue, feugiat non porta at, dapibus a nunc.</p>

      <p>Maecenas vestibulum mauris felis, nec vestibulum est bibendum vel. Quisque congue vel enim eu eleifend. Ut a libero orci. Etiam sollicitudin rutrum libero. Vestibulum eget nisl augue. Praesent turpis arcu, dapibus id metus sed, tempus ultrices augue. Phasellus tincidunt euismod lorem ut tempor. Donec mattis, dui non faucibus efficitur, risus tellus consequat dolor, eget semper purus nibh ultrices urna. Donec rhoncus mi vel felis vestibulum, id sodales arcu egestas. Donec vel vulputate ex. Ut vestibulum vestibulum velit.</p>

      <p>Nunc vehicula, enim ut fringilla mattis, ligula lacus blandit nisl, nec aliquam justo ante sed nunc. Pellentesque venenatis gravida malesuada. Suspendisse potenti. Mauris sed sapien feugiat, tristique ligula ut, elementum dolor. Sed gravida aliquet justo, sed rutrum velit tincidunt lobortis. Duis orci tellus, convallis et leo a, finibus ultrices metus. Integer vitae purus sed lacus feugiat ultrices in quis sem. In hac habitasse platea dictumst. Duis luctus augue in nibh aliquam, quis cursus ex pellentesque. Sed id scelerisque est. Etiam sodales mi auctor lacus posuere fringilla. Aenean nec est vel est ornare accumsan. Fusce aliquet luctus ultrices. Praesent malesuada dapibus metus vel dapibus. Aenean sit amet faucibus tellus, sit amet suscipit nibh.</p>

      <p>Aliquam eu orci quam. Aenean et massa quis diam malesuada commodo. Cras vel venenatis purus, a sagittis lorem. Donec ut est eget sem fringilla consequat sit amet semper enim. Nam vel lectus vel lorem ornare viverra quis vel justo. Nam vitae porta metus. Morbi hendrerit, odio quis finibus porttitor, sem orci viverra ipsum, sed rutrum ligula lacus id turpis. In sed urna in felis dapibus volutpat. Nunc varius ante ante, id molestie dui ultricies ac. Suspendisse potenti. Pellentesque tincidunt, felis ultrices mattis consequat, magna risus ultrices neque, nec viverra justo lectus eget ante. Etiam lectus purus, ornare vel mi id, lacinia varius ligula. Vivamus sit amet ornare tortor, ac bibendum purus. Suspendisse potenti.</p>

      <p>Consectetur ligula. Mauris interdum maximus ornare. Nunc venenatis auctor dolor id efficitur. Mauris vitae vehicula mauris. Praesent nec ipsum non sem gravida ullamcorper. Duis sapien odio, luctus ac efficitur vel, malesuada nec ipsum. Nunc id tellus risus. Aenean venenatis felis ut nunc commodo, at vestibulum neque lacinia. Ut gravida tortor nec augue accumsan, sed dictum felis eleifend. In interdum eros non turpis ornare, ac malesuada diam bibendum. Mauris ut ante eget nibh suscipit dignissim. Sed sed dui quam. Interdum et malesuada fames ac ante ipsum primis in faucibus. Integer maximus eu sapien vulputate cursus. Etiam ut imperdiet turpis, ac consectetur velit.</p>

      <p>Etiam ut auctor risus. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nunc vehicula eros nec turpis eleifend feugiat. Duis efficitur ultricies ligula, eget pellentesque augue pulvinar vitae. Suspendisse potenti. Cras consectetur molestie mauris eu viverra. Interdum et malesuada fames ac ante ipsum primis in faucibus. Maecenas et sapien scelerisque, faucibus sapien eget, viverra libero. Nam convallis tortor nisl, id finibus magna euismod in. Aenean velit leo, accumsan ac rhoncus suscipit, ultricies ac erat. Aenean aliquam varius facilisis. Etiam eget porttitor nunc, eu consequat orci. Quisque fermentum id sapien in ornare. Suspendisse vel ligula auctor, tempor tellus in, placerat velit. Duis iaculis dapibus vulputate.</p>

      <p>Donec eget est nisl. Donec interdum, lacus non faucibus sodales, dolor neque lacinia dolor, quis tristique est est nec lectus. Praesent tempor ante et erat blandit aliquam. Suspendisse dictum risus libero, eu convallis leo tristique non. Vivamus vitae ultrices odio, a varius dui. Sed consequat molestie bibendum. Fusce mattis malesuada porttitor. Cras mi libero, tincidunt quis risus quis, semper malesuada dui. Praesent interdum, diam id placerat vehicula, nunc ipsum iaculis ante, maximus efficitur velit neque et lorem. Sed vulputate dui et porttitor porttitor. Cras dapibus leo et odio pharetra fringilla. Morbi elementum placerat tellus, vel viverra quam fermentum vel. Curabitur sollicitudin sem in condimentum facilisis. Mauris orci leo, imperdiet a fringilla sed, porta quis augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;</p>

      <p>Feugiat, tempus arcu quis, tristique sem. Nullam efficitur sodales imperdiet. Ut facilisis, neque vestibulum feugiat commodo, orci sapien tincidunt sem, et tempor eros diam in ante. Integer sollicitudin viverra metus sit amet venenatis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In quis magna fringilla, blandit ligula non, cursus purus. In auctor tincidunt dui, eu porta nulla scelerisque ac. Nunc tempus pretium nulla ut mattis. Quisque id consectetur sapien, nec vehicula velit. Maecenas quis pretium ante. Quisque dapibus nec dolor sit amet ullamcorper. Phasellus condimentum nisi mi. Sed risus lorem, fermentum sit amet risus eu, sagittis pellentesque nunc. Morbi tristique, nunc at iaculis interdum, lorem enim sodales neque, quis hendrerit augue libero nec dolor. Vestibulum sapien tellus, imperdiet id dignissim ac, finibus at arcu.</p>

      <p>Vestibulum in iaculis nisi, id blandit lorem. Cras tempus, elit ac varius consectetur, ligula nulla porta nunc, ut elementum est ex sit amet ipsum. Donec in vehicula ligula. Duis sollicitudin felis lorem, vitae varius velit euismod at. Maecenas sit amet hendrerit ante. Mauris vel velit sodales, tristique est quis, pretium lectus. Proin massa nulla, consectetur in consequat iaculis, condimentum in mi. Suspendisse vehicula turpis et arcu rhoncus dignissim. Sed ut ante dignissim, vehicula massa a, ultricies elit. Sed iaculis, ante id ullamcorper commodo, lectus lacus vehicula justo, ac iaculis orci dolor at tellus. Aenean ultricies est non volutpat scelerisque. Curabitur vel sapien massa. In cursus leo id nibh condimentum, quis varius dolor lacinia. Cras turpis magna, placerat sed elit et, rhoncus mollis nisl. Curabitur lacus lectus, tincidunt lacinia suscipit tempus, cursus a massa.</p>
    </section>

    <section id="bottom">
      <h1>Hi!</h1>

      <p>It’s bottom of this page!</p>
    </section>

    <script>
      document.getElementById('to-bottom').addEventListener('click', function () {
        scrollToElm(document.getElementById('bottom'));
      }, false);

      document.getElementById('to-middle').addEventListener('click', function () {
        scrollToElm(document.getElementById('middle'));
      }, false);

      function scrollToElm(to) {
        var body = document.body;
        var styleBody = body.style;
        var doScroll = function () {
          styleBody.transition = styleBody.transform = 'initial';
          to.scrollIntoView();
          body.removeEventListener('transitionend', doScroll, false);
        };
        var scrollDistance = Math.min(to.offsetTop, body.scrollHeight - window.innerHeight);
        body.addEventListener('transitionend', doScroll, false);
        styleBody.transition = 'transform 5s ease-in-out';
        styleBody.transform = 'translateY(-' + scrollDistance + 'px)';
      }
    </script>
  </body>
</html>
