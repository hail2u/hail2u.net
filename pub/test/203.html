<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Revised Reflective Button</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz">
    <style>
      .reflect {
        border: 1px solid rgba(0, 0, 0, 0.5);
        display: block;
        width: 15em;
        line-height: 2;
        color: rgb(255, 255, 255);
        background-color: rgb(51, 51, 51);
        background-image: -webkit-gradient(linear, center top, center bottom, color-stop(0, rgba(255, 255, 255, 0.2)), color-stop(0.5, rgba(255, 255, 255, 0.15)), color-stop(0.5, rgba(255, 255, 255, 0.05)), color-stop(1, rgba(255, 255, 255, 0)));
        background-image: -moz-linear-gradient(top, rgba(255, 255, 255, 0.2) 0, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.05) 50%, rgba(255, 255, 255, 0) 100%);
        background-image: -webkit-linear-gradient(top, rgba(255, 255, 255, 0.3) 0, rgba(255, 255, 255, 0.25) 50%, rgba(255, 255, 255, 0.05) 50%, rgba(255, 255, 255, 0) 100%);
        background-image: linear-gradient(top, rgba(255, 255, 255, 0.2) 0, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.05) 50%, rgba(255, 255, 255, 0) 100%);
        font-family: "Yanone Kaffeesatz", sans-serif;
        font-size: 24px;
        text-align: center;
        text-decoration: none;
        text-transform: capitalize;
        border-radius: 3px;
        -moz-box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
        -webkit-box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
        box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
        text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.25);
      }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
      var colors = [
        "AliceBlue",
        "AntiqueWhite",
        "Aqua",
        "Aquamarine",
        "Azure",
        "Beige",
        "Bisque",
        "Black",
        "BlanchedAlmond",
        "Blue",
        "BlueViolet",
        "Brown",
        "BurlyWood",
        "CadetBlue",
        "Chartreuse",
        "Chocolate",
        "Coral",
        "CornflowerBlue",
        "Cornsilk",
        "Crimson",
        "Cyan",
        "DarkBlue",
        "DarkCyan",
        "DarkGoldenrod",
        "DarkGray",
        "DarkGrey",
        "DarkGreen",
        "DarkKhaki",
        "DarkMagenta",
        "DarkOliveGreen",
        "DarkOrange",
        "DarkOrchid",
        "DarkRed",
        "DarkSalmon",
        "DarkSeaGreen",
        "DarkSlateBlue",
        "DarkSlateGray",
        "DarkSlateGrey",
        "DarkTurquoise",
        "DarkViolet",
        "DeepPink",
        "DeepSkyBlue",
        "DimGray",
        "DimGrey",
        "DodgerBlue",
        "FireBrick",
        "FloralWhite",
        "ForestGreen",
        "Fuchsia",
        "Gainsboro",
        "GhostWhite",
        "Gold",
        "Goldenrod",
        "Gray",
        "Grey",
        "Green",
        "GreenYellow",
        "Honeydew",
        "HotPink",
        "IndianRed",
        "Indigo",
        "Ivory",
        "Khaki",
        "Lavender",
        "LavenderBlush",
        "LawnGreen",
        "LemonChiffon",
        "LightBlue",
        "LightCoral",
        "LightCyan",
        "LightGoldenrodYellow",
        "LightGreen",
        "LightGray",
        "LightGrey",
        "LightPink",
        "LightSalmon",
        "LightSeaGreen",
        "LightSkyBlue",
        "LightSlateGray",
        "LightSlateGrey",
        "LightSteelBlue",
        "LightYellow",
        "Lime",
        "LimeGreen",
        "Linen",
        "Magenta",
        "Maroon",
        "MediumAquamarine",
        "MediumBlue",
        "MediumOrchid",
        "MediumPurple",
        "MediumSeaGreen",
        "MediumSlateBlue",
        "MediumSpringGreen",
        "MediumTurquoise",
        "MediumVioletRed",
        "MidnightBlue",
        "MintCream",
        "MistyRose",
        "Moccasin",
        "NavajoWhite",
        "Navy",
        "OldLace",
        "Olive",
        "OliveDrab",
        "Orange",
        "OrangeRed",
        "Orchid",
        "PaleGoldenrod",
        "PaleGreen",
        "PaleTurquoise",
        "PaleVioletRed",
        "PapayaWhip",
        "PeachPuff",
        "Peru",
        "Pink",
        "Plum",
        "PowderBlue",
        "Purple",
        "Red",
        "RosyBrown",
        "RoyalBlue",
        "SaddleBrown",
        "Salmon",
        "SandyBrown",
        "SeaGreen",
        "Seashell",
        "Sienna",
        "Silver",
        "SkyBlue",
        "SlateBlue",
        "SlateGray",
        "SlateGrey",
        "Snow",
        "SpringGreen",
        "SteelBlue",
        "Tan",
        "Teal",
        "Thistle",
        "Tomato",
        "Turquoise",
        "Violet",
        "Wheat",
        "White",
        "WhiteSmoke",
        "Yellow",
        "YellowGreen"
      ];

      $(function () {
        var t = $("#buttons");

        for (var i = 0, l = colors.length; i < l; i++) {
          var color = colors[i];
          $("<p/>").append($("<a/>", {
            style: "background-color: " + colors[i]
          }).addClass("reflect").append(color + " Reflective Button")).appendTo(t);;
        }

        $("#buttons a").each(function () {
          var bgColor = window.getComputedStyle(this, null).getPropertyValue("background-color");
          var brightness = calcurateBrightness(bgColor);

          if (brightness > 204) {
            $(this).css("color", "rgba(0, 0, 0, 1)");
            $(this).css("text-shadow", "0 1px 1px rgba(255, 255, 255, 0.75)");
          }
        });
      });

      function calcurateBrightness (color) {
        var c = color.match(/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/);
        var b = ((c[1] * 299) + (c[2] * 587) + (c[3] * 114)) / 1000;

        return b;
      }
    </script>
  </head>
  <body>
    <h1>Revised Reflective Button</h1>

    <div id="buttons"></div>
  </body>
</html>
