<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>Tokoroten Scroller</title>


    <style>
      #scroller {
        padding-left: 0;
        width: 120px;
        line-height: 1;
      }

      #scroller li {
        line-height: 0;
        list-style-type: none;
      }

      #scroller img {
        width: 120px;
        height: 0px;
        vertical-align: top;
      }

      #scroller .loaded {
        height: 160px;
        -moz-transition: height 0.2s ease;
        -webkit-transition: height 0.2s ease;
        -o-transition: height 0.2s ease;
        -ms-transition: height 0.2s ease;
        transition: height 0.2s ease;
      }
    </style>


  </head>
  <body>
    <header>
      <h1>Tokoroten Scroller</h1>
    </header>

    <p>Works on: Chrome 19, Safari 5, Opera 11, Internet Explorer 10</p>

    <ul id="scroller">
      <li><img src="http://lorempixel.com/120/160/" class="loaded"></li>
    </ul>

    <script>
      var container = document.getElementById("scroller");

      window.setInterval(function () {
        var img = document.createElement("img"),
          li = document.createElement("li");

        img.src = "http://lorempixel.com/120/160/";
        img.addEventListener("load", function () {
          this.className = "loaded";
        });

        li.appendChild(img);

        container.insertBefore(li, container.firstChild);
      }, 3000);
    </script>
  </body>
</html>
