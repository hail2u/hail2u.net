<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
  xml:lang="ja"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:creativeCommons="http://backend.userland.com/creativeCommonsRssModule">
  <channel>
    <description>幅広い話題の記事や、おすすめのウェブページ、読んだ本などを公開している、ながしまきょう(hail2u)の個人ウェブサイトです。CSSや、HTML、ウェブ標準についての話題が多く、JavaScriptやサーバーサイドの話がそれに続きます。近年は特に話題を限定せずにいろいろ書いています。</description>
    <link>https://hail2u.net/</link>
    <managingEditor>hail2u@gmail.com (Kyo Nagashima)</managingEditor>
    <title>Hail2u</title>
    <atom:link href="https://hail2u.net/feed" rel="self" type="application/rss+xml"/>
    <creativeCommons:license>https://creativecommons.org/licenses/by/4.0/</creativeCommons:license>

      <item>
        <description><![CDATA[伊藤計劃]]></description>
        <guid>https://www.amazon.co.jp/exec/obidos/ASIN/B009DEMA02/hail2unet-22</guid>
        <link>https://www.amazon.co.jp/exec/obidos/ASIN/B009DEMA02/hail2unet-22</link>
        <pubDate>Fri, 4 Jul 2025 18:25:10 +0900</pubDate>
        <title><![CDATA[虐殺器官]]></title>
        <content:encoded><![CDATA[<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B009DEMA02/hail2unet-22"><img alt="虐殺器官" height="889" loading="lazy" src="https://m.media-amazon.com/images/P/B009DEMA02.jpg" width="600"></a>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[中目黒駅近くにある郷さくら美術館へ、建物などを描いた日本画の展覧会を見に行く。現代日本画の作品を扱う美術館らしい。暑いので駅近の美術館にしたが、ふらふら歩いたので意味がない。]]></description>
        <guid>https://hail2u.net/blog/the-architecture-exhibition-2025-07-02.html</guid>
        <link>https://hail2u.net/blog/the-architecture-exhibition-2025-07-02.html</link>
        <pubDate>Fri, 4 Jul 2025 12:50:48 +0900</pubDate>
        <title><![CDATA[コンストラクション(郷さくら美術館)]]></title>
        <content:encoded><![CDATA[<figure>
<img alt="黒いタイルで覆われた建物と赤茶色のビルの間にブロック塀がある。そこに美術館の名称や展覧会名の掲示と共に、展覧会のポスターが並べられている。展示物をいくつか抜粋したポスターはかなり青い。" height="1440" src="https://hail2u.net/img/blog/the-architecture-exhibition-2025-07-02.avif" width="2560">
</figure>

<p>中目黒駅近くにある郷さくら美術館へ、<a href="https://www.satosakura.jp/?page_id=10211">建物などを描いた日本画の展覧会</a>を見に行く。現代日本画の作品を扱う美術館らしい。暑いので駅近の美術館にしたが、ふらふら歩いたので意味がない。</p>

<p>大体青いし、大体白い。サントリーニ島の教会やタージ・マハルはまさにそうだ。油やアクリルとは色の印象がずいぶん違うように感じる。パリ・リヨン駅やニューヨークのビルなどの青くない作品になると顕著になる気がする。単にガラス・ケースに入っていないからかもしれない。</p>

<p>現代日本画もあまり見てきていないこともあって、そこそこ新鮮に見られ、思ったよりも面白かった。屏風を見ているとパーティションが欲しくなる。来年くらいにもう一度行って、現代日本画への先入観を融解させたい。</p>

<hr>

<figure>
<img alt="20センチメートル四方くらいのタイルが並んでいる。タイルにはサクラを象った美術館のロゴに沿った切れ目があり、その隙間から向こう側が少し見えている。" height="1440" loading="lazy" src="https://hail2u.net/img/blog/the-architecture-exhibition-2025-07-02-tiles.avif" width="2560">
<figcaption>美術館・外壁囲い</figcaption>
</figure>

<p>建物は外壁の外に黒いタイルの壁で囲われており、ちょっと異形なビルだ。このタイルは美濃焼らしい。少し奥まっていることと、周囲に空間がないことで悪目立ちはしていない。それ以外は、内装も凝っておらず、ただのビルだ。展示室も横には広いが、縦には狭く、屏風絵などにはやや小さい。タイル以外には見るべきところはないだろう。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[:nth-child()セレクターが選択からふるい分けに進化した話。ofにより何番目の何々が簡単に作れるようになる。ofで:not()を使う観点はなかった。]]></description>
        <guid>https://blog.frankmtaylor.com/2025/07/02/better-selecting-with-a-better-nth-child/</guid>
        <link>https://blog.frankmtaylor.com/2025/07/02/better-selecting-with-a-better-nth-child/</link>
        <pubDate>Fri, 4 Jul 2025 07:26:39 +0900</pubDate>
        <title><![CDATA[Better selecting with a better :nth-child()]]></title>
        
      </item>
      <item>
        <description><![CDATA[レスポンシブ・フォント・サイズの前提している状況が、2025年に至って変わりつつあるように思う。その状況とは、ブラウザーの閲覧領域(ビューポート)、特にその幅が閲覧中に変わらないということだ。幅がちょくちょく変化する状況では、レスポンシブ・フォント・サイズによって文字サイズが変化することは、レイアウトやフローがちょいちょい変化することに直結する。それがユーザー体験に与える影響は少なくないはずだ。]]></description>
        <guid>https://hail2u.net/blog/responsive-font-size-2025.html</guid>
        <link>https://hail2u.net/blog/responsive-font-size-2025.html</link>
        <pubDate>Wed, 2 Jul 2025 18:35:24 +0900</pubDate>
        <title><![CDATA[レスポンシブ・フォント・サイズが前提している状況の変化]]></title>
        <content:encoded><![CDATA[<p>レスポンシブ・フォント・サイズの前提している状況が、2025年に至って変わりつつあるように思う。その状況とは、<em>ブラウザーの閲覧領域(ビューポート)、特にその幅が閲覧中に変わらない</em>ということだ。幅がちょくちょく変化する状況では、レスポンシブ・フォント・サイズによって文字サイズが変化することは、レイアウトやフローがちょいちょい変化することに直結する。それがユーザー体験に与える影響は少なくないはずだ。</p>

<p>少し前まではデバイスの回転やフルスクリーンの切り替えなどでしか閲覧領域の幅は変わらなかった。しかし、昨年くらいからブラウザーの左右に様々なものが置かれるようになっている。具体的にはサイドバーとかサイドパネルとか呼ばれるものだ。それらがユーザーの行動によって切り替えられ、それに押されてちょくちょく幅が変わるようになった。対話型AIのブラウザーへの搭載が一番大きいが、それ以外にも色々ある。</p>

<p>これらサイドなんとかは、一時的と言うには少し長い時間、補助的と言うには少し広い大きさで使われる。開いたらそこでちょっとした作業を行い、しばらくしてからそれを閉じて戻ってくるというわけだ。作業途中でうっかり閉じたりされないよう、閲覧領域を狭めて開かれる。</p>

<p>ちょっと前までは瞬間的な利用で終わること(単語の翻訳とか)を想定して、オーバーレイのメニューやツールチップであることが多かった。そうでないやや複雑な作業なら、現在のページを丸ごと置き換えるか、新しいタブで開かれただろう。そのため閲覧領域の幅が変わることはなかった。</p>

<p>今の一般的なCSSの書き方だと、幅が変わると文字サイズが変わり、文字サイズが変わるとほぼ全てが変わる。リフローどころではない、文字数や行数の調節、折り返し位置の大幅な変更(<code>text-wrap: balance;</code>で顕著だ)、画像の大きさの調節と、レイアウトの切り替わり、などといった劇的な変化が起こる。そしてサイドなんとかは広くとられる傾向にある(私はブラウザーの半分くらいの幅で開いており、閲覧領域の幅は600px前後にまで減る)ので、より破壊的になるだろう。</p>

<p>もちろんそれで崩れてしまうようなウェブページは論外だが、きちんと「レスポンシブ」であっても、いや「レスポンシブ」だからこそ問題は起きる。これらを開く時は何か作業をする時で、その時に右や左でがちゃがちゃと色々切り替わってしまうと、作業への集中力が削がれてしまうという問題だ。長くて1秒もないくらいだろうが、いざ集中先を切り替えようという時に、元の場所で何か動きがあった場合、それを無視することは難しい。</p>

<p>もはや閲覧領域の幅に依存して文字サイズを変えてしまうと、つまりレスポンシブ・フォント・サイズを採用してしまうと、ユーザー体験が悪化するのではないか、と考えている。もしかすると以前のように初期の横幅に応じて動的にCSSを配布すると、文字サイズを柔軟にしつつ安定するので、使いやすい可能性すらある。どうせ見ないし操作しないので、横スクロールバーが出ても問題ない。ともあれ少なくともサイドなんとかが頻繁に切り替えられるということを想定したウェブデザインが求められ始めているとは感じる。</p>

<hr>

<p>そんなこんなで<code>max(100%, 20px)</code>というような閲覧領域に依存しない文字サイズ指定に回帰している。最低でも閲覧者が指定している文字サイズか20pxのどちらかになる。狭いスマフォ(幅400ピクセル以下)でやや大きいような気がするし、そのあたりを何とかしたいが、うまい方法を思いついていない。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[スティーブ・ニコルズ]]></description>
        <guid>https://www.amazon.co.jp/exec/obidos/ASIN/B0DMYSR4V2/hail2unet-22</guid>
        <link>https://www.amazon.co.jp/exec/obidos/ASIN/B0DMYSR4V2/hail2unet-22</link>
        <pubDate>Tue, 1 Jul 2025 07:47:42 +0900</pubDate>
        <title><![CDATA[虫・全史]]></title>
        <content:encoded><![CDATA[<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B0DMYSR4V2/hail2unet-22"><img alt="虫・全史" height="500" loading="lazy" src="https://m.media-amazon.com/images/P/B0DMYSR4V2.jpg" width="352"></a>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[2年くらい行われている、法面とその上にある林の整備が終わりに近づいている。今は謎の物体が法面に取り付けられている。どういう効果があるものなのだろうか。水抜きの穴を開け直す固定器具なようなもので、最終的には外されるんではないかと想像している。このままだと、酔っぱらって歩いている人が、飛び出ている硬い円柱に頭をぶつけてひどい目に遭いそうだ。]]></description>
        <guid>https://hail2u.net/blog/2025-06-30.html</guid>
        <link>https://hail2u.net/blog/2025-06-30.html</link>
        <pubDate>Mon, 30 Jun 2025 17:54:46 +0900</pubDate>
        <title><![CDATA[謎の物体と法面]]></title>
        <content:encoded><![CDATA[<figure>
<img alt="コンクリートで覆われた古い法面にひし形に近い八角形で巨大な金属製で出来た板状で灰色の物体が張り付けられている。この物体の中央には円柱形の突起があり、機械的な印象を受ける。" height="1440" src="https://hail2u.net/img/blog/weird-object-on-norimen.avif" width="2560">
</figure>

<p>2年くらい行われている、法面とその上にある林の整備が終わりに近づいている。今は謎の物体が法面に取り付けられている。どういう効果があるものなのだろうか。水抜きの穴を開け直す固定器具なようなもので、最終的には外されるんではないかと想像している。このままだと、酔っぱらって歩いている人が、飛び出ている硬い円柱に頭をぶつけてひどい目に遭いそうだ。</p>

<p>元々林が上にあり、少し雨風が強いと大きな枝が固まって落ちてきた。ナラ枯れ被害もあったようで、全体的に手を入れる……というか全伐採することになったらしい。夏はかなりの日陰を作ってくれていた林なので残念と思う一方、落ちてきた枝を避けたことも何回かあるため安全になったとも思っており、二律背反な感情を持っている。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[大文字で始まるBaselineにそこそこ違和感があるんだけれども、ベンダー側からの押し付けっぽいからかな]]></description>
        <guid>https://hail2u.net/statuses/#1751236136229</guid>
        <link>https://hail2u.net/statuses/#1751236136229</link>
        <pubDate>Mon, 30 Jun 2025 07:28:56 +0900</pubDate>
        <title><![CDATA[大文字で始まるBaselineにそこそこ違和感があるんだけれども、ベンダー側からの押し付けっぽいからかな]]></title>
        
      </item>
      <item>
        <description><![CDATA[フョードル・サヴィンツェフ]]></description>
        <guid>https://www.amazon.co.jp/exec/obidos/ASIN/476613897X/hail2unet-22</guid>
        <link>https://www.amazon.co.jp/exec/obidos/ASIN/476613897X/hail2unet-22</link>
        <pubDate>Sat, 28 Jun 2025 06:50:58 +0900</pubDate>
        <title><![CDATA[ダーチャ]]></title>
        <content:encoded><![CDATA[<a href="https://www.amazon.co.jp/exec/obidos/ASIN/476613897X/hail2unet-22"><img alt="ダーチャ" height="402" loading="lazy" src="https://m.media-amazon.com/images/P/476613897X.jpg" width="500"></a>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[地元のジーンズ屋で4割引くらいの1490円でヘインズのビーフィーが売っている。Amazonより安いと思った瞬間にレジに持って行く。よそ行きに着ていた紺のTシャツを普段着にしたり、今年は2枚入れ替わる。色が褪せ切ったポロシャツと、襟がヨレヨレになった灰色のTシャツとさよならだ。黒のTシャツは久しぶりの気がする。]]></description>
        <guid>https://hail2u.net/blog/2025-06-27.html</guid>
        <link>https://hail2u.net/blog/2025-06-27.html</link>
        <pubDate>Fri, 27 Jun 2025 19:48:15 +0900</pubDate>
        <title><![CDATA[紺黒白紺白]]></title>
        <content:encoded><![CDATA[<p>地元のジーンズ屋で4割引くらいの1490円で<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B0DBPV1PP4/hail2unet-22">ヘインズのビーフィー</a>が売っている。Amazonより安いと思った瞬間にレジに持って行く。よそ行きに着ていた紺のTシャツを普段着にしたり、今年は2枚入れ替わる。色が褪せ切ったポロシャツと、襟がヨレヨレになった灰色のTシャツとさよならだ。黒のTシャツは久しぶりの気がする。</p>

<p>2年前くらいから5枚ローテーションに減らしている。Tシャツがめっきり高くなったので、普段着Tシャツを探すのも大変だ。1000円台のものは変化がないが、定番として4000円前後で売られていたものが大体7000円くらいまで上がっている印象だ。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[JSONファイルを読み込むのにfsモジュールを使っているが、Dynamic Importでも書けるようなので置き換えてみている、いや、いた。実装が遅れていたFirefoxも、2025年4月末にリリースされた138でサポートしたので、試してみる気になった。短くならない上に、可読性も良くないことがわかる。import宣言ならJSONファイルを読み込む価値はあるが、かなり特別な理由がない限りDynamic ImportをJSONファイルの読み込みに使うことはやめた方が良さそうだ。]]></description>
        <guid>https://hail2u.net/blog/using-dynamic-import-for-a-json-file.html</guid>
        <link>https://hail2u.net/blog/using-dynamic-import-for-a-json-file.html</link>
        <pubDate>Wed, 25 Jun 2025 10:58:33 +0900</pubDate>
        <title><![CDATA[JSONファイルをDynamic Import]]></title>
        <content:encoded><![CDATA[<p>JSONファイルを読み込むのにfsモジュールを使っているが、Dynamic Importでも書けるようなので置き換えてみている、いや、いた。実装が遅れていたFirefoxも、2025年4月末にリリースされた138でサポートしたので、試してみる気になった。短くならない上に、可読性も良くないことがわかる。<code>import</code>宣言ならJSONファイルを読み込む価値はあるが、かなり特別な理由がない限りDynamic ImportをJSONファイルの読み込みに使うことはやめた方が良さそうだ。</p>

<pre><code class="language-javascript">import assert from &quot;node:assert&quot;;
import fs from &quot;node:fs/promises&quot;;

const obj1 = await fs.readFile(&quot;./test.json&quot;).then(JSON.parse);
const <mark>{ default: obj2 }</mark> = await import(&quot;./test.json&quot;, <mark>{
  with: { type: &quot;json&quot; }
}</mark>);
assert.deepStrictEqual(obj1, obj2);</code></pre>

<p>fsモジュールではBufferとして読んで、<code>JSON.parse()</code>に流す。1行で無理やり書いた感がすごい。これを書き換えたい動機としては、<code>utf8</code>と書かずに済むくらいの感覚で、<code>then</code>と<code>JSON.parse()</code>を書きたくないということに尽きる。fs-extraパッケージを使う気はないが、あれくらい短くスパッと書きたい。</p>

<p>Dynamic Importだと、<code>import()</code>の第二引数で<code>import</code>宣言と同じ<code>with</code>キーを使ってJSONファイルを読み込むことを教えれば良い。これだけだったら使いやすそうに思えるが、既定で<code>default</code>キーへJSONファイルの内容が展開されるので、分解文法を使って代入しないと使いづらい。そして<code>default</code>は予約語のため名前も変える必要がある。そんなこんなでなかなか長い。</p>

<p>長いだけならまだしも、{}が3組もあってかなり読みづらい。Dynamic Importの方が速そうな気はするが、それでも使う気は起きない。またうっかり<em>ドットで始まらない相対パス</em>を投げてしまうと、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#module_specifier_resolution">Bare Specifier</a>とみなされて死ぬことも致命的な気配がある。上記例だと<code>test.json</code>と書いてしまうと、 Node.jsでは<code>test.json</code>という名前のパッケージを探しに行き、ERR_MODULE_NOT_FOUNDになるだろう。</p>]]></content:encoded>
      </item>
  </channel>
</rss>
