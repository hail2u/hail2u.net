<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
  xml:lang="ja"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:creativeCommons="http://backend.userland.com/creativeCommonsRssModule">
  <channel>
    <description>幅広い話題の記事や、おすすめのウェブページ、読んだ本などを公開している、ながしまきょう(hail2u)の個人ウェブサイトです。CSSや、HTML、ウェブ標準についての話題が多く、JavaScriptやサーバーサイドの話がそれに続きます。近年は特に話題を限定せずにいろいろ書いています。</description>
    <link>https://hail2u.net/</link>
    <managingEditor>hail2u@gmail.com (Kyo Nagashima)</managingEditor>
    <title>Hail2u</title>
    <atom:link href="https://hail2u.net/feed" rel="self" type="application/rss+xml"/>
    <creativeCommons:license>https://creativecommons.org/licenses/by/4.0/</creativeCommons:license>

      <item>
        <description><![CDATA[面白ドメインだと信用できない感じがしてくる]]></description>
        <guid>https://hail2u.net/statuses/#1746226576607</guid>
        <link>https://hail2u.net/statuses/#1746226576607</link>
        <pubDate>Sat, 3 May 2025 07:56:16 +0900</pubDate>
        <title><![CDATA[面白ドメインだと信用できない感じがしてくる]]></title>
        
      </item>
      <item>
        <description><![CDATA[行儀の悪いクローラーを弾くやつ。大丈夫そうなリクエストのみウェブ・アプリなどに渡す。CloudFlareのアレっぽい感じ？]]></description>
        <guid>https://anubis.techaro.lol/</guid>
        <link>https://anubis.techaro.lol/</link>
        <pubDate>Sat, 3 May 2025 07:54:26 +0900</pubDate>
        <title><![CDATA[Anubis]]></title>
        
      </item>
      <item>
        <description><![CDATA[小ぶりのマグ・カップを探したが、なかなか見つからない。諦めてソーサー付きのカップで探し、パン皿として欲しかった柄のカップ・アンド・ソーサーにする。イッタラというかアラビアというかのマイニオ・サラストゥスの黒だ。この柄は出た当初からかなり好きで、19cmの皿を買おうか5年くらい迷っている。割高だが、公式オンライン・ストアで定価の5500円で買う。]]></description>
        <guid>https://hail2u.net/blog/arabia-mainio-sarastus-cup-and-saucer.html</guid>
        <link>https://hail2u.net/blog/arabia-mainio-sarastus-cup-and-saucer.html</link>
        <pubDate>Fri, 2 May 2025 12:38:25 +0900</pubDate>
        <title><![CDATA[アラビアのマイニオ・サラストゥスのカップ(・アンド・ソーサー)]]></title>
        <content:encoded><![CDATA[<aside>
<figure>
<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B0BJ1HQYH8/hail2unet-22"><img alt="ARABIA 【正規輸入品】 アラビア マイニオ サラストゥス カップ&amp;ソーサー 170ml 1068044" height="1440" src="https://hail2u.net/img/blog/arabia-mainio-sarastus-cup-and-saucer.avif" width="2560"></a>
</figure>
</aside>

<p>小ぶりのマグ・カップを探したが、なかなか見つからない。諦めてソーサー付きのカップで探し、パン皿として欲しかった柄のカップ・アンド・ソーサーにする。イッタラというかアラビアというかの<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B0BJ1HQYH8/hail2unet-22">マイニオ・サラストゥスの黒</a>だ。この柄は出た当初からかなり好きで、19cmの皿を買おうか5年くらい迷っている。割高だが、公式オンライン・ストアで定価の5500円で買う。</p>

<p>直径11.5cmくらいと小さめのソーサー付きだが、ソーサーは使わず、カップ単体で使っている。容量は170mLとなっているものの、満水で190mL前後と、毎朝淹れる175mLのコーヒーに、ギリギリよりのピッタリだ。重くもなく、軽くもなく、座りも良いので、かなり使い易い。柄は皿の方が映える気もする。</p>

<p>ソーサーにはカップが嵌る受けがないので、普通に小さめの皿としてプレゼントする。少し前に小皿を割ってしまったお詫びだ。最近は受けがないソーサーがそこそこあるようだ。使い回せるからだろうか。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[パトリシア・ハイスミス]]></description>
        <guid>https://www.amazon.co.jp/exec/obidos/ASIN/4309204325/hail2unet-22</guid>
        <link>https://www.amazon.co.jp/exec/obidos/ASIN/4309204325/hail2unet-22</link>
        <pubDate>Fri, 2 May 2025 08:46:40 +0900</pubDate>
        <title><![CDATA[目には見えない何か]]></title>
        <content:encoded><![CDATA[<a href="https://www.amazon.co.jp/exec/obidos/ASIN/4309204325/hail2unet-22"><img alt="目には見えない何か" height="500" loading="lazy" src="https://m.media-amazon.com/images/P/4309204325.jpg" width="340"></a>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[スマフォを置くだけのスピーカー。拡声器っぽい形。USBケーブルを通す穴はある。限定で白もある。]]></description>
        <guid>https://noborudenki.com/collections/all/products/unpowered-speaker-for-smartphone-nmp-011</guid>
        <link>https://noborudenki.com/collections/all/products/unpowered-speaker-for-smartphone-nmp-011</link>
        <pubDate>Thu, 1 May 2025 20:47:21 +0900</pubDate>
        <title><![CDATA[スマホ用無電源スピーカー『拡音器』NMP-011]]></title>
        
      </item>
      <item>
        <description><![CDATA[耳鼻科に行く。ノイズ・キャンセリング・イヤフォンを長時間使うと激しい頭痛が起きるという症状の相談だ。奥の方に荒れている部分があり、そこが刺激を受けているのではないかという話になる。原因は乾燥と耳かきらしい。]]></description>
        <guid>https://hail2u.net/blog/2025-05-01.html</guid>
        <link>https://hail2u.net/blog/2025-05-01.html</link>
        <pubDate>Thu, 1 May 2025 12:09:48 +0900</pubDate>
        <title><![CDATA[耳由来による頭痛の治療]]></title>
        <content:encoded><![CDATA[<p>耳鼻科に行く。ノイズ・キャンセリング・イヤフォンを長時間使うと激しい頭痛が起きるという症状の相談だ。奥の方に荒れている部分があり、そこが刺激を受けているのではないかという話になる。原因は乾燥と耳かきらしい。</p>

<p>通常は、こうなる前に聞こえ方がおかしくなったりするらしい。あまり聞こえない方の耳で、聞こえ方の悪化に気づけなかったのではないか、とも言っていた。5日間飲み薬を飲んだ後、イヤフォンを試すとまったく平気だった。まずは治ったようでうれしい。耳かきは風呂上がりに細めの綿棒を使いましょうと言われたので、そうすることにする。再発しないと良いな。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[10年以上待ち続けていたtext-autospaceプロパティーの最適な値を探っている。実装がSafari 18.4にしかないので、比較的安全に遊べる。後方互換性と巷の文書を考慮した結果、意外な複雑さがある。]]></description>
        <guid>https://hail2u.net/blog/best-value-for-text-autospace-property.html</guid>
        <link>https://hail2u.net/blog/best-value-for-text-autospace-property.html</link>
        <pubDate>Wed, 30 Apr 2025 17:51:32 +0900</pubDate>
        <title><![CDATA[text-autospaceプロパティーの最適値]]></title>
        <content:encoded><![CDATA[<p>10年以上待ち続けていた<code>text-autospace</code>プロパティーの最適な値を探っている。実装がSafari 18.4にしかないので、比較的安全に遊べる。後方互換性と巷の文書を考慮した結果、意外な複雑さがある。</p>

<section>
<h2>現状の仕様</h2>

<p><a href="https://www.w3.org/TR/2024/WD-css-text-4-20240529/">2024年5月29日のWD</a>では以下のような値が取れるようになっている。</p>

<pre>normal |
no-autospace |
[ ideograph-alpha || ideograph-numeric || punctuation ] || [ insert | replace ] |
auto</pre>

<p><code>auto</code>にすると環境依存で最適化されるようだが、単に<code>no-autospace</code>になりそうだ。つまり<code>auto</code>と<code>no-autospace</code>は無指定と考えて良い。実際には<code>normal</code>と複数指定を使うことになるだろう。</p>

<p><code>normal</code>は<code>ideograph-alpha ideograph-numeric</code>と見做され、英数字との間に空白が挿入される。<code>punctuation</code>は半角記号との間に<em>非改行空白</em>が挿入される。<code>ideograph-*</code>はそれぞれアルファベットのみと数字のみとの間に空白が挿入される</p>

<p>挿入の制御も可能で、<code>replace</code>を追加しておくと、既に半角空白がある場合はそれを置き換えてくれる。<code>text-autospace</code>プロパティーの挿入する空白は<a href="https://www.w3.org/TR/2024/WD-css-text-4-20240529/#inter-script-spacing">1/8空白</a>とされているので、半角空白よりも印刷媒体に近くなり、可読性が向上することが期待できる。<code>insert</code>は既定の挙動で、指定しなくても良い。</p>
</section>

<section>
<h2>Safari 18.4での実装</h2>

<p><a href="https://caniuse.com/mdn-css_properties_text-autospace">Can I Use</a>では、実験的と注意書きはあるものの、実装済みとなっている。確かに<code>normal</code>や複数指定の仕組み自体は実装されているようだ。しかし、<code>punctuation</code>や<code>replace</code>は実装されていない。そのためこれらの値を指定してしまうと、自動挿入されなくなる。完全実装には遠い。</p>

<p>また、丁度要素の終わりと空白の自動挿入場所が重なると、挿入されなかったりすることもあるようだ。再現不能な挿入失敗もあったり、なかなか挙動不審だ。しかし、概ね期待通りに動くようで、安心して使えると考えて良いだろう。</p>
</section>

<hr>

<p>つまり現状では<code>normal</code>くらいしかやることがないように思える。問題はどこでどう指定するか、になる。雑にルート要素で指定すると、挿入して欲しくなさそうな場所でも挿入されてしまう。しかし、個々の要素それぞれで指定するのは面倒臭い。色々な要素で有効と向こうを切り替えながら見ていると、最低でも無効にするべき要素が分かってきた。</p>

<pre><code class="language-css">:root {
  text-autospace: normal;
}

:is(pre, time, input, textarea) {
  text-autospace: no-autospace;
}</code></pre>

<p><code>pre</code>要素では、等幅フォントでずれるようになるからだ。<code>time</code>要素では、紙の本などで「<time datetime="2025">2025年</time>」のような日付表記には空白が入らないからだ。<code>input</code>要素や<code>textarea</code>要素では、入力中に自動挿入が入ると挙動不審になる恐れがあるからだ。</p>

<hr>

<p>実装が進むと、また挙動が変わるかもしれない。最終的には<code>ideograph-alpha ideograph-numeric punctuation replace</code>で落ち着くような気もするが、良い名前のショートカットも作られるだろうし、要素ごとに違う既定値が与えられるかもしれない。理想的な未来では、<code>auto</code>がそうなるような気もする。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[主人公が大体最後に自殺する短編集を読んでいて暗い]]></description>
        <guid>https://hail2u.net/statuses/#1745969525986</guid>
        <link>https://hail2u.net/statuses/#1745969525986</link>
        <pubDate>Wed, 30 Apr 2025 08:32:05 +0900</pubDate>
        <title><![CDATA[主人公が大体最後に自殺する短編集を読んでいて暗い]]></title>
        
      </item>
      <item>
        <description><![CDATA[Win11のエクスプローラーをタブブラウザー的な挙動にする。任意のアプリからフォルダーを開く時、既存のウィンドウのタブで開くようになる。Restore便利。]]></description>
        <guid>https://github.com/w4po/ExplorerTabUtility</guid>
        <link>https://github.com/w4po/ExplorerTabUtility</link>
        <pubDate>Wed, 30 Apr 2025 07:24:33 +0900</pubDate>
        <title><![CDATA[Explorer Tab Utility]]></title>
        
      </item>
      <item>
        <description><![CDATA[西條辰義]]></description>
        <guid>https://www.amazon.co.jp/exec/obidos/ASIN/B0DB1388DJ/hail2unet-22</guid>
        <link>https://www.amazon.co.jp/exec/obidos/ASIN/B0DB1388DJ/hail2unet-22</link>
        <pubDate>Wed, 30 Apr 2025 07:21:12 +0900</pubDate>
        <title><![CDATA[フューチャー・デザイン]]></title>
        <content:encoded><![CDATA[<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B0DB1388DJ/hail2unet-22"><img alt="フューチャー・デザイン" height="500" loading="lazy" src="https://m.media-amazon.com/images/P/B0DB1388DJ.jpg" width="352"></a>]]></content:encoded>
      </item>
  </channel>
</rss>
