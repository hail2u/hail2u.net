<p>Amazonの商品画像は色々なパラメーターで加工できるのはよく知られている。大抵の場合はウェブサイトに合うようにサイズを変更したりとかが主なのでAA320やSX480とかを使うだけ。ただ非矩形な商品の画像の場合、余白がないことがあり白背景のウェブサイト以外ではサイズの変更だけでは上手くなじまない。それを拡大（SS)とリサイズ（AA)・切り抜き（CR)を組み合わせることにより適切に余白を追加してやろうというテクニック。頭悪そうなタイトル。</p>

<p>以下のデフォルトの画像では余白がなくキツキツでちょっとアレな画像を例にして説明する。</p>

<figure>
<a href="https://www.amazon.co.jp/exec/obidos/ASIN/B000K83QEE/hail2unet-22"><img alt="MERRELL Mootopia Lace in 500px wide" height="221" src="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL.jpg" width="500"></a>
</figure>

<pre>https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL.jpg</pre>

<p>SSとAAというパラメーターによる画像サイズの変更は、元になる画像のサイズ（長辺が<code>500px</code>のことが多い）を超えると余白が追加される。</p>

<figure>
<a href="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_.jpg"><img alt="MERRELL Mootopia Lace in 550px wide with whitespace" height="550" src="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_.jpg" width="550"></a>
</figure>

<pre>https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_.jpg</pre>

<p><code>500px</code>の画像を<code>550px</code>にしようとしているので長辺において<code>5%</code>ずつ余白が出来ることになる。この状態から<code>480px</code>にリサイズすると<em>余白を維持して</em>リサイズ出来る。</p>

<figure>
<a href="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_AA480_.jpg"><img alt="MERRELL Mootopia Lace in 480px wide with whitespace" height="480" src="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_AA480_.jpg" width="480"></a>
</figure>

<pre>https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_AA480_.jpg</pre>

<p>必ず正方形になるSSやAAではなく、長辺を判断してくれるSLによるサイズ変更で余白が追加されると楽なのだけど、SL(やSX・SY)は元になる画像のサイズ以上にはならない。なのでこのように上下の余白が広すぎる場合はCRを使って切り抜いてやる。</p>

<figure>
<a href="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_AA480_CR0,105,480,270_.jpg"><img alt="MERRELL Mootopia Lace in 480px wide with whitespace" height="270" src="https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_AA480_CR0,105,480,270_.jpg" width="480"></a>
</figure>

<pre>https://images-fe.ssl-images-amazon.com/images/I/31Eybjr97iL._SS550_AA480_CR0,105,480,270_.jpg</pre>

<p>切り抜いた後に<code>480x270</code>になるように開始位置を調整すると、必要な分だけ周囲に余白を追加した画像の出来上がり。</p>