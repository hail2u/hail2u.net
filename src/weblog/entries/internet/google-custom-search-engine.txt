Googleカスタム検索エンジン

<p>このサイトではサイト内検索をAdSenseから設定できるものでやっていたのだけど、どうやら<a href="http://www.google.com/cse/">Googleカスタム検索エンジン</a>からサイト内検索を作成するとより細かく設定できるようなのでちょっと作り直してみた。実際に提供される検索の機能的にはあまり変わらないのだけど、トラフィックリポートが提供されたり<a href="http://www.google.com/cse/home?cx=partner-pub-8712792805045949%3Ayz0cpmc6sk1">独自のトップページ</a>が作成されたりと微妙に違うところが……とか思ったらものすごく違ってて高機能だった。使いこなせそうもないけど。</p>

<p>基本的な検索設定はデザイン等も含めてAdSenseから設定できるものとほとんど同じ。検索結果の表示法として設置したページにオーバーレイで表示されるものが選べるようになっていることくらいしか違いは無い。Googleの言語設定を英語にするとデザインの設定のUIが変わるが中身は変わらない(と思う)。</p>

<ol>
<li>インデックス作成</li>
<li>絞り込みの独自設定</li>
<li>グラフによるトラフィックリポート</li>
<li>アノテーションとコンテキストによる細かなカスタマイズ</li>
</ol>

<p>の4つが決定的な違いになる。</p>

<h2>インデックス作成</h2>

<p>ウェブマスターツール等から設定してGoogleにインデックスして貰うページを明示的に指定するサイトマップと作成したカスタム検索エンジンを関連付けることができる。複数のサイトマップを読み込むサイトマップをここで指定すれば様々なウェブページから検索するカスタム検索エンジンを簡単に作ることができるということだと思う。またサイトマップでの指定なのでURL(やドメイン)による指定よりも対象を絞ることが可能で、より優れた検索結果にすることができることになる。</p>

<p>同じアカウントのウェブマスターツールのデータが自動的にリストアップされるので、サイトマップを送信済みの場合はプルダウンで選択するだけで簡単に設定することができるようになっていた。</p>

<h2>絞り込みの独自設定</h2>

<p>絞り込みを設定すると検索結果のページに特定の単語での絞り込み検索をおこなうリンクを挿入することができる。<a href="http://code.google.com/intl/ja/apis/customsearch/docs/refinements.html">ユーザーによる検索の絞り込みを支援する</a>で絞り込みについては簡単に説明されている。後の方のXMLによるカスタマイズは後述のアノテーションとコンテキストによるカスタマイズに関わってくる話。</p>

<h2>トラフィックリポート</h2>

<p>トラフィックリポートは時間あたりのクエリ数と検索語のランキング程度の簡単なものなので、Google Analytics使った方が良さそうな感じ。</p>

<h2>アノテーションとコンテキストによる細かなカスタマイズ</h2>

<p>ざっくりと説明すると<em>自サイトに置いたXMLファイルでカスタム検索エンジンを設定できる</em>ということで、カスタム検索エンジンのコントロールパネルでひとつひとつ設定しなくても良くなるという代物。<a href="http://www.google.com/cse/docs/cx_cref_transition.html">Google で保存されるカスタム検索エンジンから、リンクされたカスタム検索エンジンへの移行</a>に最初の一歩が説明されており、これを<em>リンクされたカスタム検索エンジン</em>と呼ぶらしい。</p>

<p>設定できるものは多岐に渡り、</p>

<ul>
<li>検索対象サイトの細かな選択</li>
<li>検索結果の順位のカスタマイズ</li>
<li>絞り込みの独自設定</li>
<li>同義語の独自設定</li>
</ul>

<p>など、より深いところをカスタマイズすることができるようになっている。もちろんルックアンドフィールでデザインの設定も可能。</p>

<p>アノテーションが対象サイトの選択に使うものでコンテキストが検索結果のカスタマイズに使うもの。両方を別のファイルにすることも可能だが、アノテーションはコンテキスト内にインラインで記述できるので、実際にはひとつのXMLファイルをいじることでカスタム検索の細かな設定が行えることになる。詳しくは<a href="http://code.google.com/intl/ja/apis/customsearch/docs/basics.html">デベロッパーガイドの基本事項</a>を読むと良い。</p>

<hr>

<p>絞り込みの独自設定とアノテーションとコンテキストによるカスタマイズはAdSenseから設定できる検索にはなかった機能で試していてちょっと面白かった。オーバーレイによる検索結果表示だと絞り込みがタブ・インターフェイスで表示されるのでさっと切り替えることができるようになっていた。他にも設定を変更したカスタム検索をすぐにプレビュー出来たりもして、全体的に使いやすい。検索結果に広告的なリンクを挿入するプロモーションや他のユーザーと絞り込みラベルの共有などを行うコラボレーションといった機能もあった……が、これらは試していないのでよくわからない。</p>

<p>2009-12-08現在では新しくカスタム検索を作成してAdSenseアカウントとカスタム検索アカウントに関連付けようとすると500エラーがでてしまい上手くいかない感じなので、AdSenseの検索から乗り換えようという人は少し様子を見た方が良いかもしれない。</p>
