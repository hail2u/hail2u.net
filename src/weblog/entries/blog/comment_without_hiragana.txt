ひらがなを含まないコメント
<p>コメント・スパム対策に「ひらがなを含まないコメントを受け付けない」という考えを思いついてみる。似たようなものにASCIIのみのコメントを弾くという手法があり、これがとても有効なので、そこまでしなくても・・・という感じではありますが、こうするとマラヤラム語やアフリカーンス語のコメント・スパムや、ASCIIじゃないんだけど欧米では比較的良く使われる文字(&#169;とか&#8364;とか)を含むコメント・スパムも弾けそうかなと。</p>
<p><code>$str</code>にコメントの文字列が含まれるとすると、Perl 5.6以降(多分)なら、</p>
<pre><code class="language-perl">$str =~ /\p{InHiragana}/
</code></pre>
<p>という正規表現でチェックできるはず。まだ、実装していないのでうまく動くかわかりませんが。</p>
<p><code>\p{hoge}</code>とか初めて使った！</p>
<p>基本的にまっとうな解決法ではないなぁ・・・。かといって、ベイジアン・フィルタでコメントを振り分けるとか<a href="http://typekey.com/" title="TypeKey">TypeKey</a>で認証とかはリッチすぎる気がする。特に<a href="http://www.blosxom.com/" title="blosxom :: the zen of blogging ::">blosxom</a>みたいなコンパクトなスクリプトを利用している場合には。結局は国家権力による規制とかで根本的に断つことが重要なのか。</p>
<h2>追記@2004/07/20</h2>
<p>writebackに<code>\p{InHiragana}</code>でComment/TrackBackの本文にひらがながあるかどうかをチェックする機能を導入してみました。きちんと動いてるっぽい感じ。</p>
<h2>追記@2004/07/22</h2>
<p>ちょっと不具合があったので、ASCIIのみかどうかチェックに<del>戻しました</del><ins>戻したけど、もう一回<code>\p{InHiragana}</code>でチェックするようにしてみる</ins>。</p>
