TrackBackの文字コード
<p>いろいろあったはずですが、それはもう遠い昔の話。僕の中では勝手に「デフォルトはUTF-8。それ以外の場合はcharsetパラメータを追加。」とかいう結論になってます。<a href="/archives/bsk.html" title="hail2u.net - Archives - blosxom starter kit">blosxom starter kit</a>で利用している<a href="http://blog.bulknews.net/mt/archives/000355.html" title="blog.bulknews.net: blosxom: wikieditish + bookmarklet">wikieditish+bookmarklet</a>では、UTF-8決め打ちなんですね(知らなかったのかよ)。UnknownPlace.の<a href="http://www.unknownplace.org/blosxom/blog/blosxom/223.html" title="UnknownPlace. - wikieditishプラグインでのトラックバック送信と文字コード">wikieditishプラグインでのトラックバック送信と文字コード</a>というエントリで学ぶ。</p>
<p>blosxom starter kitではUTF-8前提なので、何も問題ありません。</p>
<p>とか言ってみる。</p>
<p>まぁ何かとまずいので文字コード指定のものはまとめてグローバル変数にしようかなとか今さら思ってみたりする。でも、blosxom 3.0はもうすぐ(05/01予定)だし、やる気起きねーな！それにグロバール変数にしたところで手間はたいして変わらないんですよね。flavourファイル自体の文字コードを変換してやらなければならないのは同じだったりとか。んー。利点はかなりのものだとは思うんですけど。</p>
<p>とりあえずはUTF-8以外のの文字コードでblosxom starter kitを運用している方は、wikieditishの162行目あたりにある、</p>
<pre><code class="language-perl">charset =&gt; &#39;utf-8&#39;,
</code></pre>
<p>というのを使用している文字コードに合わせて書き換えておいてください。</p>
<p>EUC-JPなら、</p>
<pre><code class="language-perl">charset =&gt; &#39;euc-jp&#39;,
</code></pre>
<p>Shift_JISなら、</p>
<pre><code class="language-perl">charset =&gt; &#39;shift_jis&#39;,
</code></pre>
<p>です(多分)。wikieditish+bookmarkletでTrackBackを送信していない人は書き換える必要はありませんが、ゴチャゴチャ言わずに書き換え<del>ろ</del><ins>てください、お願いします</ins>。</p>
<h2>追記@2004/06/29</h2>
<p>送信先のページの文字コードを調べて、それで送ってやるというアプローチはなかなか良いかもと思った。TrackBack Auto-discovery経由でゴニョゴニョやっている場合は、その過程でGETしているので、レスポンス・ヘッダか<code>meta</code>要素から文字コード拾えるので、コストかからないし。</p>
<p>レスポンス・ヘッダか<code>meta</code>要素から文字コード拾えなかった場合がメンドウか・・・。</p>
