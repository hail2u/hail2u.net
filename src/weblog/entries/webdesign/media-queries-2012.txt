2012年のMedia Queries

<p>2011年にはMobile Firstという手法が浸透した。当初は多分に技術的な事情によるもので、先に低解像度向けのスタイルを書くことによって、高解像度向けのスタイルで使われる大きな画像を読み込まれないようにするというテクニックでしかなかった。しかし、結果としてコンテンツ重視でCSSを書きやすくなることがわかり、急速に浸透することになった。<a href="http://www.w3.org/TR/css3-mediaqueries/">Media Queries</a>はそんなMobile Firstの中核をなす技術だが、その使われ方は限定的なもの &mdash; ほぼ<code>min-width</code>と<code>print</code>だけ &mdash; だ。2012年にはそこらへんも変わってくるんじゃないかと思う。</p>

<pre><code class="language-css">@media screen and (min-width: 481px) {
  /* do something */
}
</code></pre>

<p>こういった強く「スマートフォン」を意識した書き方をするのではなく、コンテンツに応じて切り替えポイントを探る必要があるだろう。例えば一行の文字数が大きく変化しないように解像度に合わせてフォントサイズとコンテンツの幅を調整してやるとか、サイドバー(多くの場合固定のサイズだろう)とコンテンツの幅のバランスを考慮して一定の比率を切ったらサイドバーを下に移動させるなどだ。今後は<a href="http://adactio.com/journal/5147/">多段カラムを採用して横幅に応じてカラムを増やしていく</a>などというのもありになっていくだろう。</p>

<p>モバイル機器の多様化は勿論、そもそもデバイス種の判別が非常に難しくなっている現在、メジャーなデバイスの解像度を利用してデザインを切り替えるのは明らかに無理がある。ということで今年はデバイスをターゲッティングしないMedia Queriesへの移行が進むのではないか。</p>

<hr>

<p>最近になって「よく知られたサイズ」は意識しない方が良い的なことに触れている記事をよく見かけるようになったので、解像度によってフォントサイズとコンテンツ幅を調節するCSSを例にしてこんな感じで始めて書こうかなと思っていたら、<a href="http://trentwalton.com/2012/01/11/vertical-media-queries-wide-sites/">Vertical Media Queries &amp; Wide Sites</a>というほぼまんまなエントリを先に発見してしまった。</p>

<p>このエントリでは十分な高さがありかつ横幅が広い場合にフォントサイズを拡大している。横幅の計算は特にデバイスを意識せず、コンテンツを意識した形で決定しているようだ。高さについては<a href="http://www.amazon.co.jp/gp/product/B005DPEX0A/ref=as_li_ss_tl?ie=UTF8&amp;tag=hail2unet-22&amp;linkCode=as2&amp;camp=247&amp;creative=7399&amp;creativeASIN=B005DPEX0A">11''のMacBook Air</a>を意識しているようでそこはちょっと残念だが、この<code>min-height</code>を利用したMedia Queriesは注目に値する。例えば<a href="http://www.hatena.ne.jp/">はてな</a>の共通ヘッダーのようなものを高さに余裕がある場合は固定するが余裕がなければ固定しないなどできるだろうし、ソーシャルボタンの位置の工夫などにも応用できるだろう。また固定したサイドバーがブラウザの高さによって途中で切れて機能しないというようなバグも避けることができるはずだ。</p>

<hr>

<p>2011年までに多くのサイトで使われてきた<code>321px</code>や<code>769px</code>などといった「よく知られたサイズ」をトリガーにしたMedia Queriesはゆっくりと廃れていくだろう。物理的ではなくもっと論理的にWebサイトをデザインするようになっていくということだ。CSSはあまり論理的に書ける文法を持っていないので苦労するだろうが、そこは<a href="http://sass-lang.com/">Sass</a>や<a href="http://lesscss.org/">LESS</a>の力を借りて乗り切っていけば良い。</p>
