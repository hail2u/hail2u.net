Normalize.scssのテスト

<p><a href="http://necolas.github.io/normalize.css/">Normalize.css</a>を分割してSassのSCSSパーシャル化した<a href="https://github.com/hail2u/normalize.scss">Normalize.scss</a>のテストを書いていた。テストと言ってもオリジナルと同じコードになるかみたいなチェックを行うだけのもの。空白行とコメントを無視してDIFF取れば……とか考えていたんだけど面倒くさそうだったので、圧縮して同じコードになるか比較するだけにした。これでケアレスミスは防げるんじゃないかと思う。</p>

<p>テスト環境には<a href="http://gruntjs.com/">Grunt</a>を使ってる。</p>

<ol>
  <li>パーシャルを全読み込みするパーシャルをコピー</li>
  <li><a href="https://github.com/gruntjs/grunt-contrib-sass">node-contrib-sass</a>でコンパイル</li>
  <li>オレオレgetスクリプトでオリジナルをダウンロード</li>
  <li>両者を圧縮</li>
  <li>文字列で比較</li>
</ol>

<p>ダウンロードでは常に最新版を拾うようになっているので、オリジナルに更新があるとテストが失敗するようになっている。追随する時のことを考えてこうしたんだけど、間違いだった気がする。あと圧縮せずに<a href="https://github.com/unitb-consulting/grunt-css-parse">grunt-css-parse</a>を使ってJSON化し、コメント等を削除してオブジェクトとして比較する方が良さそう。もうちょっと直そう。</p>

<hr>

<p>最近なんでもGruntでやろうとしててダメな感じだ。</p>
