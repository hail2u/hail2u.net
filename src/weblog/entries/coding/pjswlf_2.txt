Pure JavaScript Wiki Like Formatter #2
<p>なんとなく一年ぶりにPure JavaScript Wiki Like Formatterの続きを作ってみる。<a href="http://www.mozilla.org/products/firefox/" title="Firefox - Rediscover the web">Firefox</a>に対応したり、インライン要素の一部をサポートしたり位ですけど。</p>
<p>Firefoxへの対応は<code>split()</code>で<code>\r?\n</code>とかいうように改行コードの違いを吸収してやれば良いだけの話だったらしい。<a href="http://www.opera.com/" title="Opera Web Browser">Opera</a>とか<a href="http://www.apple.com/safari/" title="Apple - Safari">Safari</a>とかどうなんだろうな。調べる気も起きない。</p>
<p>インライン要素の対応は<code>replace()</code>で。実装自体は簡単。それと不思議な記法をされた場合への対処は別の問題。てか、それを考慮するのはものすごく大変そうです。</p>
<p>続きを作った理由は、<a href="http://www.blosxom.com/" title="blosxom :: the zen of blogging ::">blosxom</a>のエントリ・ファイルをWiki的な記法で記述し、ブラウザで表示する時にJavaScriptでマークアップしてやるとかいうアプローチはオモシロイかなとか考えたから。blosxomのプラグインとして実装するのと比較して、Perlに処理を担当させないのでサーバーのリソースが節約できることがポイントでしょうか。勿論その分クライアント側(閲覧者)に負担をかけるわけですが。</p>
<p>blosxomへの実装もJavaScriptが無効な環境への対処とか考えてると先はものすごく流そうな気がする。とりあえずblosxom側で<code>pre</code>要素で出力しておいて、それをCSSで隠すとかでしょうか。そうするとCSS Off/JavaScript Onとかいう環境で妖しいことになりますね。えぇ？</p>
