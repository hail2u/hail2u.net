Atom Syndication Format 0.8
<p><a href="http://atompub.org/2005/04/18/draft-ietf-atompub-format-08.html" title="The Atom Syndication Format">Atom Syndication Formatの0.8</a>が出ました。これが最終草案ということらしいです。ということで、Atomラヴな人(サービス)はそろそろ対応作業を開始して良いということになるわけですが、最近の変わりっぷりを見るとちゃんと確定してからの方が良さそうという気がしないでもない。</p>
<p>最終草案ということなので、それへの対応を考えるために、とりあえず現在メジャーなバージョンである0.3との違いをまとめてみました。</p>
<ul>
<li>Text定義(<code>content</code>要素や<code>summary</code>要素など)の<code>mode</code>属性は削除され、<code>type</code>属性にマージされた</li>
<li>Person定義(<code>author</code>要素や<code>contributor</code>要素)の<code>url</code>要素は削除され、<code>uri</code>要素が新設された</li>
<li><code>category</code>要素が新設された</li>
<li><code>created</code>要素と<code>issued</code>要素は削除され、<code>published</code>要素が新設された</li>
<li><code>generator</code>要素の<code>url</code>属性は削除され、<code>uri</code>要素が新設された</li>
<li><code>icon</code>要素と<code>image</code>要素が新設された</li>
<li><code>id</code>要素の中味はIRIということに変更された</li>
<li><code>info</code>要素は削除された</li>
<li><code>link</code>要素に<code>hreflang</code>属性と<code>length</code>属性が新設された</li>
<li><code>source</code>要素が新設された</li>
<li><code>tagline</code>要素は削除され、<code>subtitle</code>要素が新設された</li>
</ul>
<p>仕様上の正確な違いを指摘しているわけではなく、感覚的に「こういうこと？」みたいな適当極まりないものなので、注意してください。抜けているものも当然あります。</p>
<p><code>content</code>要素の<code>type</code>属性は、予め定義されたものに</p>
<ul>
<li>text</li>
<li>html</li>
<li>xhtml</li>
</ul>
<p>の3つがあり、それ以外の場合はMIME Media Typeを明示するということのようです。そして、xmlで終わらないMIME Media Typeやtextで始まらないMIME Media Typeを指定する場合には必ず(MUST)Base 64でエンコードしろと。ちょっとややこしい。</p>
<p><code>category</code>属性はzero or moreなので、最近流行りのタグにも対応できるようです。<code>scheme</code>属性と<code>label</code>属性があるので、フィード・リーダー側で関連するエントリを辿るなどということも機械的に可能になるはず。</p>
<p>blogツールで配信しているAtomフィードを、最終草案に対応したものへ移行すること自体はそれほど面倒でもない気がします。多分テンプレートをちょいちょいっと書き換えるだけでほぼ完了のはず。フィード・リーダー側は面倒だろうなぁとは思ったり思わなかったり。</p>
