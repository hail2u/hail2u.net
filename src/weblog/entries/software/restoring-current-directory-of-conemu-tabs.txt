<h1>ConEmuのタブごとにカレント・ディレクトリーを復元</h1>

<p><a href="http://conemu.github.io/">ConEmu</a>では、再起動した際にタブを復元するように設定することができるが、うまくカレント・ディレクトリーが復元されないことがある。各タブで使っているシェルに依存するので、シェル側で設定してやる必要がある。例えばGit for Windowsの<code>bash.exe</code>では、<code>~/.bashrc</code>でシェル変数<code>PROMPT_COMMAND</code>を使ってカレント・ディレクトリーを明示的に記憶させる。</p>

<pre><code class="language-bash">PROMPT_COMMAND=&#39;ConEmuC -StoreCWD&#39;
</code></pre>

<p>これだけではなく、<code>ConEmuC.exe</code>にパスを通さなければならない。ConEmuのSettings→Startup→ComSpecで<q>Add %ConEmuBaseDir% to %PATH%</q>を有効にすることで可能だ。もちろんシステムの<code>PATH</code>環境変数を編集しても良い。</p>

<p>これでSettings→Startupで<q>Auto save/restore opened tabs</q>を有効にしていると、再起動時に<code>bash.exe</code>をシェルにしたタブがうまく復元されるようになる。</p>
