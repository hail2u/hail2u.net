Vimの自動コマンド内におけるマップコマンド

<p><a href="http://www.vim.org/">Vim</a>のビルトイン構文強調定義のままだと、自動コマンド(<code>autocmd</code>)の引数でマップコマンドを指定すると強調されない。<code>vimCommand</code>と<code>vimMap</code>が分かれていて、<code>autocmd</code>の引数で使われる<code>vimIsCommand</code>に<code>vimMap</code>が含まれていないからみたい。</p>

<p>修正するためには直接書き換える必要があった。<code>after/</code>以下でアバウトに書いた場合、他で構文強調が壊れる(<code>augroup</code>とかで)。</p>

<p class="seealso">Download: <a href="/pub/vim.vim.patch"><code>vim.vim.patch</code></a></p>

<figure>
  <img src="/images/blog/vim-map-commands-in-autocmd.png" alt="デフォルトでは強調されないnnoremapが正常に強調されるようになっている">
  <figcaption>上記パッチの導入後</figcaption>
</figure>

<p>うまく動いている気がする。ユーザーのランタイム・ディレクトリにコピーしてからパッチ当てた方がより良い。</p>
