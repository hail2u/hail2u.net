VimでNu Validatorを使う

<p><a href="http://lint.brihten.com/html/">HTMLLint</a>はどうも更新する気なさそうなので、<a href="http://validator.w3.org/">W3C Markup Validation Service</a>を使うように戻すかと思いつつもインターフェイスがアレだなーと。で、<a href="http://validator.nu/">Validator.nu</a>の方を眺めてたら普通に<a href="http://wiki.whatwg.org/wiki/Validator.nu_Web_Service_Interface#Output_Modes">GNU ErrorフォーマットやJSON、プレーンテキストでの結果を返す機能</a>があったので<a href="http://www.vim.org/">Vim</a>から簡単に使えるようにスクリプトを書いてしばらく使ってみる。</p>

<p class="seealso">Download: <a href="/pub/nu-validator.pl.txt">nu-validator.pl</a> and <a href="/pub/nu-validator.vim">nu-validator.vim</a></p>

<p><code>nu-validator.pl</code>をパスが通ったディレクトリに置いて、<code>nu-validator.vim</code>を<code>~/.vim/compiler/</code>に置く。最後に<code>~/.vimrc</code>に</p>

<pre><code class="language-vim">augroup NuValidator
  autocmd!

  autocmd FileType html compiler nu-validator
augroup END
</code></pre>

<p>と書けばHTMLファイルで<code>make</code>するとValidatorにかけられるようになる。消えたりしなさそうという理由でAPIのエンドポイントにW3Cがホスティングしている方を使ってるので、気になる人は本家のURLに書き換えると良い。</p>

<pre>style-guide.html|615 col 143| Bad value “cc:attributionURL” for attribute “rel” on element “a”: Keyword “cc:attributionurl” is not registered.
style-guide.html|617 col 49| Bad value “cc:useGuidelines” for attribute “rel” on element “a”: Keyword “cc:useguidelines” is not registered.
</pre>

<p>デスヨネ。</p>
