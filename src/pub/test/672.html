<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>rem Unit in Media Queries</title>

    <style>
      @media (min-width: 60rem) {
        html {
          font-size: 200%;
        }
      }

      @media (min-width: 120rem) {
        html {
          font-size: 1vw;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h1>rem Unit in Media Queries</h1>
      <p>メディア・クエリーで<code>rem</code>単位を使うと、Mobile Safari v10.3.2でブレークポイントの解釈がおかしくなるバグのテスト・ページです。</p>
    </header>

    <main>
      <section class="test">
        <h1>現象の説明と再現コード</h1>

        <p><code>rem</code>単位を使ったメディア・クエリーが複数存在し、かつ最後のメディア・クエリー内で<code>vw</code>単位を使ってテキスト・サイズを変えると、ブレークポイントの解釈がおかしくなる。Mobile Safari v10.3.2で確認でき、以前のバージョンでは不明です。</p>

        <pre><code class="language-css">
@media (min-width: 60rem) {
  html {
    font-size: 200%;
  }
}

@media (min-width: 120rem) {
  html {
    font-size: 1vw;
  }
}
</code></pre>

        <p>最小の再現コードは以上の通りです。<code>min-width: 60rem</code>なのでiPhone 5sだとマッチしないはずだが、なぜかマッチし、文字サイズが200%になってしまいます。</p>
      </section>
    </main>
  </body>
</html>
