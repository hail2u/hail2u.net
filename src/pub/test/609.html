<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">

    <title>Fullscreen Overlay Searchbox</title>


    <style>
      .test {
        height: 100em;
      }

      .searchbox {
        background-color: rgba(0, 0, 0, 0.8);
        color: #fff;
        height: 100vh;
        left: 0;
        line-height: 1;
        position: fixed;
        top: 0;
        width: 100vw;
      }

      .searchbox h1 {
        display: none;
      }

      .searchbox .close {
        color: inherit;
        display: block;
        font-size: 8vmin;
        height: 8vmin;
        left: 1vmin;
        overflow: hidden;
        position: absolute;
        text-align: center;
        text-decoration: none;
        top: 1vmin;
        width: 8vmin;
      }

      .searchbox .close::before {
        content: '✖';
        display: block;
        height: 100%;
        width: 100%;
      }

      .searchbox .query {
        background-color: transparent;
        background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22384%22%20height%3D%22384%22%20viewBox%3D%220%200%20384%20384%22%3E%3Cpath%20d%3D%22M144%200c-18.89%200-37.642%203.74-55.094%2010.97-17.45%207.227-33.362%2017.86-46.72%2031.218-13.355%2013.356-23.99%2029.267-31.217%2046.718C3.74%20106.358%200%20125.11%200%20144c0%2018.89%203.74%2037.642%2010.97%2055.094%207.227%2017.45%2017.86%2033.362%2031.218%2046.72%2013.356%2013.355%2029.267%2023.99%2046.718%2031.217C106.358%20284.26%20125.11%20288%20144%20288c18.89%200%2037.642-3.74%2055.094-10.97%2010.005-4.143%2019.51-9.4%2028.312-15.655L350.062%20384%20384%20350.062%20261.375%20227.406c6.254-8.8%2011.512-18.307%2015.656-28.312C284.26%20181.642%20288%20162.89%20288%20144c0-18.89-3.74-37.642-10.97-55.094-7.227-17.45-17.86-33.362-31.217-46.72-13.357-13.355-29.268-23.99-46.72-31.217C181.644%203.74%20162.89%200%20144%200zm0%2048c12.527%200%2025.177%202.52%2036.75%207.313%2011.573%204.793%2022.267%2011.954%2031.125%2020.812s16.02%2019.552%2020.813%2031.125C237.48%20118.823%20240%20131.473%20240%20144c0%2012.527-2.52%2025.177-7.313%2036.75-4.793%2011.573-11.954%2022.267-20.812%2031.125s-19.552%2016.02-31.125%2020.813C169.177%20237.48%20156.527%20240%20144%20240c-12.527%200-25.177-2.52-36.75-7.313-11.573-4.793-22.267-11.954-31.125-20.812s-16.02-19.552-20.813-31.125C50.52%20169.177%2048%20156.527%2048%20144c0-12.527%202.52-25.177%207.313-36.75%204.793-11.573%2011.954-22.267%2020.812-31.125s19.552-16.02%2031.125-20.813C118.823%2050.52%20131.473%2048%20144%2048z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E");
        background-position: left center;
        background-repeat: no-repeat;
        background-size: auto 80%;
        border: 0;
        border-bottom: 1px solid #fff;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        color: inherit;
        font-size: 7vmin;
        left: 10vw;
        line-height: 1.25;
        margin-top: -0.675em;
        padding: 0 0 0 1.25em;
        position: absolute;
        top: 50%;
        width: 80vw;
      }

      #search {
        display: none;
      }

      #search:target {
        display: block;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Fullscreen Overlay Searchbox</h1>

      <p><code>:target</code>を利用したフルスクリーン検索ボックスの簡単な例。<code>#top</code>を消すためにのみJavaScriptを使用している。</p>
    </header>

    <section class="test">
      <p><a href="#search">Show Searchbox</a></p>
    </section>

    <aside id="search" class="searchbox">
      <h1>Search this site</h1>

      <form>
        <input class="query" placeholder="Enter search keyword(s)" type="search">
      </form>

      <footer>
        <a class="close" href="#top">Back to Top</a>
      </footer>
    </aside>

    <script>
      window.addEventListener('hashchange', function () {
        var l = window.location;

        if (l.hash === '#top') {
          window.history.replaceState(null, '', l.pathname + l.search);
        }
      });
    </script>
  </body>
</html>
