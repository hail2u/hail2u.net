<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>CSS Spinner</title>


    <style>
      .spinner {
        margin-top: 2em;
        display: none;
        height: 2.5em;
      }

      .spinner:only-child {
        display: block;
      }

      .spinner > div {
        display: inline-block;
        width: 0.5em;
        height: 100%;
        background-color: #ddd;
        -webkit-animation: stretch 1.2s ease-in-out infinite;
        animation: stretch 1.2s ease-in-out infinite;
      }

      .spinner .rect2 {
        -webkit-animation-delay: -1.1s;
        animation-delay: -1.1s;
      }

      .spinner .rect3 {
        -webkit-animation-delay: -1.0s;
        animation-delay: -1.0s;
      }

      @-webkit-keyframes stretch {
        0%,
        40%,
        100% {
          -webkit-transform: scaleY(0.4);
        }

        20% {
          -webkit-transform: scaleY(1.0);
        }
      }

      @keyframes stretch {
        0%,
        40%,
        100% {
          -webkit-transform: scaleY(0.4);
          transform: scaleY(0.4);
        }

        20% {
          -webkit-transform: scaleY(1.0);
          transform: scaleY(1.0);
        }
      }
    </style>


  </head>
  <body>
    <header>
      <h1>CSS Spinner</h1>

      <p>DOM操作をせずにCSSで作ったローディング画像を消すデモ。</p>
    </header>

    <section id="test">
      <div class="spinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
      </div>
    </section>

    <script>
      window.setTimeout(function () {
        var res = document.createElement('p');
        res.textContent = 'ローディング画像はこの文章が表示されると同時に消えます。';
        document.getElementById('test').appendChild(res);
      }, 5000);
    </script>
  </body>
</html>
