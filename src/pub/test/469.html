<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>Responsive Async AdSense</title>


    <style>
      ins {
        border: 0;
      }
    </style>


  </head>
  <body>
    <header>
      <h1>Responsive Async AdSense</h1>
    </header>

    <section class="test">
      <h1>320x250 or 728x90</h1>

      <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle"
        id="adsense-main"
        style="display:inline-block;width:300px;height:250px"
        data-ad-client="ca-pub-8712792805045949"
        data-ad-slot="9464429441"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});

        (function (d) {
          if (d.body.dataset) {
            var p = d.getElementById('adsense-main');
            var w = p.parentNode.clientWidth;

            if (w >= 728) {
              p.style.width = '728px';
              p.style.height = '90px';
              p.dataset.adSlot = '9993054799';
            }
          }
        }(document));
      </script>

      <p>Async版のAdSense広告コードでページ読み込み時にコンテンツの幅が<code>728px</code>以上の場合、デフォルトの300x250から728x90の広告に切り替えるコードの習作。</p>

<pre><code>&lt;ins class="adsbygoogle"
  id="adsense-main"
  style="display:inline-block;width:300px;height:250px"
  data-ad-client="ca-pub-xxxxxxxxxxxxxxxx"
  data-ad-slot="xxxxxxxxxx"&gt;&lt;/ins&gt;
&lt;script&gt;
  (adsbygoogle = window.adsbygoogle || []).push({});

  (function (d) {
    if (d.body.dataset) {
      var p = d.getElementById('adsense-main');
      var w = p.parentNode.clientWidth;

      if (w &gt;= 728) {
        p.style.width = '728px';
        p.style.height = '90px';
        p.dataset.adSlot = 'xxxxxxxxxx';
      }
    }
  }(document));
&lt;/script&gt;
</code></pre>
    </section>
  </body>
</html>
