<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">

    <title>Color Blindness Emulator with Filter Effects via CSS and Inline SVG</title>


    <style>
      .protanopia {
        -webkit-filter: url('#protanopia');
        filter: url('#protanopia');
      }

      .protanomaly {
        -webkit-filter: url('#protanomaly');
        filter: url('#protanomaly');
      }

      .deuteranopia {
        -webkit-filter: url('#deuteranopia');
        filter: url('#deuteranopia');
      }

      .deuteranomaly {
        -webkit-filter: url('#deuteranomaly');
        filter: url('#deuteranomaly');
      }

      .tritanopia {
        -webkit-filter: url('#tritanopia');
        filter: url('#tritanopia');
      }

      .tritanomaly {
        -webkit-filter: url('#tritanomaly');
        filter: url('#tritanomaly');
      }

      .achromatopsia {
        -webkit-filter: url('#achromatopsia');
        filter: url('#achromatopsia');
      }

      .achromatomaly {
        -webkit-filter: url('#achromatomaly');
        filter: url('#achromatomaly');
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Color Blindness Emulator with Filter Effects via CSS and Inline SVG</h1>

      <p>フィルターを定義したSVGファイルをインラインに埋め込んだバージョン。<code>svg</code>要素の<code>height</code>と<code>width</code>属性の値を<code>0</code>にすることで隠すことが可能(CSSの<code>display: none</code>で隠すとフィルターも隠されることになるため、フィルターをかけた要素も消える)。</p>
    </header>

    <section class="test">
      <h1>Normal</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test protanopia">
      <h1>Protanopia (1型2色覚/赤色盲)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test protanomaly">
      <h1>Protanomaly (1型3色覚/赤色弱)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test deuteranopia">
      <h1>Deuteranopia (2型2色覚/緑色盲)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test deuteranomaly">
      <h1>Deuteranomaly (2型3色覚/緑色弱)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test tritanopia">
      <h1>Tritanopia (3型2色覚/青色盲)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test tritanomaly">
      <h1>Tritanomaly (3型3色覚/青色弱)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test achromatopsia">
      <h1>Achromatopsia (1色覚/全色盲)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>

    <section class="test achromatomaly">
      <h1>Achromatomaly (異常3色覚/色弱)</h1>

      <p><img src="http://lorempixel.com/480/270/"></p>
    </section>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      version="1.1"
      height="0"
      width="0">
      <defs>
        <filter id="protanopia">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.567, 0.433, 0,     0, 0
                    0.558, 0.442, 0,     0, 0
                    0,     0.242, 0.758, 0, 0
                    0,     0,     0,     1, 0"/>
        </filter>
        <filter id="protanomaly">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.817, 0.183, 0,     0, 0
                    0.333, 0.667, 0,     0, 0
                    0,     0.125, 0.875, 0, 0
                    0,     0,     0,     1, 0"/>
        </filter>
        <filter id="deuteranopia">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.625, 0.375, 0,   0, 0
                    0.7,   0.3,   0,   0, 0
                    0,     0.3,   0.7, 0, 0
                    0,     0,     0,   1, 0"/>
        </filter>
        <filter id="deuteranomaly">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.8,   0.2,   0,     0, 0
                    0.258, 0.742, 0,     0, 0
                    0,     0.142, 0.858, 0, 0
                    0,     0,     0,     1, 0"/>
        </filter>
        <filter id="tritanopia">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.95, 0.05,  0,     0, 0
                    0,    0.433, 0.567, 0, 0
                    0,    0.475, 0.525, 0, 0
                    0,    0,     0,     1, 0"/>
        </filter>
        <filter id="tritanomaly">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.967, 0.033, 0,     0, 0
                    0,     0.733, 0.267, 0, 0
                    0,     0.183, 0.817, 0, 0
                    0,     0,     0,     1, 0"/>
        </filter>
        <filter id="achromatopsia">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.299, 0.587, 0.114, 0, 0
                    0.299, 0.587, 0.114, 0, 0
                    0.299, 0.587, 0.114, 0, 0
                    0,     0,     0,     1, 0"/>
        </filter>
        <filter id="achromatomaly">
          <feColorMatrix
            in="SourceGraphic"
            type="matrix"
            values="0.618, 0.320, 0.062, 0, 0
                    0.163, 0.775, 0.062, 0, 0
                    0.163, 0.320, 0.516, 0, 0
                    0,     0,     0,     1, 0"/>
        </filter>
      </defs>
    </svg>
  </body>
</html>
