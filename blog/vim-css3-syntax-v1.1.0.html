<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="same-origin" name="view-transition">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>vim-css3-syntax v1.1.0</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2018-08-16</time></p>

    <h1>vim-css3-syntax v1.1.0</h1>

    <p>新しく<a href="https://www.w3.org/TR/2018/WD-css-values-4-20180814/">CSS Values and Units Module Level 4</a>が公開されたので、さくっと<a href="https://github.com/hail2u/vim-css3-syntax">vim-css3-syntax</a>にも反映させた。ぼうっとしていたら、リリースしていない変更がかなりたまってしまっている。追加もあったことだし、ついでに<a href="https://github.com/hail2u/vim-css3-syntax/releases/tag/v1.1.0">v1.1.0</a>をリリースしておこう。</p>

<p>values-4では<code>toggle()</code>の復活や<code>clamp()</code>などの追加が主な変更だ。他の仕様も色々更新されているが、それらでは大きな変更はない。</p>

<p><code>clamp()</code>は3つ引数をとり、第二引数が第一引数より小さいなら第一引数を、第二引数が第三引数より大きいなら第三引数を、第二引数が第一引数と第三引数の間なら第二引数を、返す。一般的な使用目的は、第二引数に<code>calc()</code>を使い計算をさせ、その答えの最小値と最大値を第一引数と第三引数で制限する、というものだ。<code>width</code>プロパティーなどなら、<code>min-width</code>と<code>max-width</code>プロパティーも追加することで実現する制限を、汎用的に行えるように作られたのだろう。</p>

<hr>

<p>今さらだが<code>after</code>でやるのは良くない、と強く思うようになってきた。といってもCSSシンタックス・ファイルのメンテナーになりたいとも思わないので難しい。妥協案として、cssファイルタイプに追加するのではなく、新しくcss.css3というファイルタイプを作るようにしようか、などと考えている。</p>

<p>しかし、これはこれでscss.css3やless.css3、場合によってはhtml.css3とかも管理しないとならなくなる。しかも<code>after</code>でやる場合とくらべて明確なメリットがあるわけでもない。</p>

<p>残念ながらこのままでいくしかなさそうだ。</p>
  </body>
</html>
