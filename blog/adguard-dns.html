<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">

    <title>AdGuard DNS</title>

    <link title="ウェブサイト全体のRSS" href="/feed" rel="alternate" type="application/rss+xml">
    
    <link title="雑多な記録だけのRSS" href="/blog/feed" rel="alternate" type="application/rss+xml">
    
    
    <link href="/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="mailto:hail2u@gmail.com" rel="author">
    <link href="https://hail2u.net/blog/adguard-dns.html" rel="canonical">
    <meta content="light dark" name="color-scheme">
    <meta content="Pixel 3aにapkでインストールするAdGuard for Android(なんちゃってVPNとして動く方)をちょっと入れてた。うまく動いているようだった。ただ、Android 9だとプライベートDNSとしてDNS over TLSが設定できる。これでAdGuard DNSを使うと面倒くさくない。" name="description">
    <link href="/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="https://creativecommons.org/licenses/by/4.0/" rel="license">
    <link href="https://duckduckgo.com/?q=site%3Ahail2u.net" rel="search">
    <meta content="width=device-width" name="viewport">

    <link href="/css/print.css?v=9.31.3" media="only print" rel="stylesheet">
    <link href="/css/index.css?v=9.31.3" media="only screen" rel="stylesheet">

    <meta content="summary" name="twitter:card">
    <meta content="Pixel 3aにapkでインストールするAdGuard for Android(なんちゃってVPNとして動く方)をちょっと入れてた。うまく動いているようだった。ただ、Android 9だとプライベートDNSとしてDNS over TLSが設定できる。これでAdGuard DNSを使うと面倒くさくない。" property="twitter:description">
    
    <meta content="@hail2u_" name="twitter:site">
    <meta content="AdGuard DNS" property="twitter:title">
  </head>

  <body>

      <nav id="top">
        <p class="logo"><a href="/"><svg viewBox="0 0 16 16" role="img" aria-labelledby="logo-title"><title id="logo-title">ホームへ戻る</title><path d="m 2,7 3,7 h 7 L 14,9 13,4 9,2 Z"/></svg></a></p>
      </nav>

      <header class="page-header">
          <p class="date"><time datetime="2019-08-28T11:39:54+09:00">2019年8月28日</time></p>

        <h1><em>AdGuard DNS</em></h1>
      </header>

    <main>

    <p>Pixel 3aにapkでインストールする<a href="https://adguard.com/ja/adguard-android/overview.html">AdGuard for Android</a>(なんちゃってVPNとして動く方)をちょっと入れてた。うまく動いているようだった。ただ、Android 9だとプライベートDNSとして<a href="https://en.wikipedia.org/wiki/DNS_over_TLS">DNS over TLS</a>が設定できる。これで<a href="https://adguard.com/ja/adguard-dns/overview.html">AdGuard DNS</a>を使うと面倒くさくない。</p>

<p>Android 9のプライベートDNSは、システム全体での設定になっている。そのためモバイル回線でのウェブページの閲覧にはもちろん、アプリの通信にも(ほとんどが)AdGuard DNSが使われる。なんちゃってVPNとして動くものをapkでインストールするより安心だったり、Wi-Fiでしか行えないDNS設定より広くカバーしてくれたり、ブラウザーでしか動かないコンテンツ・ブロッカーとは違ったりするわけだ。</p>

<p>DNSだけでのブロックなので、スマフォ自体が遅くなりにくい上、ウェブページの表示が速くなりやすい。また、これのせいでウェブページがうまく動かなくなることもほとんどない。対してファースト・パーティーのうっとうしい何かにはなすすべがない。uBlock Originなどと比較すると、機能性は1/3くらいだろう。</p>

<p>何か不都合があって無効にしたい場合は、プライベートDNSの設定を自動に戻すかOFFにする。DoTのドメイン名は記憶されているので、再び有効にするのも簡単だ。あまり不都合に気づかないが、何か変だな……と思ったら切ってみるとうまく動いたりする。ドコモのSPモード認証は切らないと通らなかった。</p>

<hr>

<p>Windows 10では<a href="https://simplednscrypt.org/">Simple DNSCrypt</a>から<a href="https://ja.wikipedia.org/wiki/Domain_Name_System#DNS_over_HTTPS_(DoH)">DNS over HTTPS</a>のみでAdGuard DNSのみを使ってみている。Simple DNSCryptはDNSサーバーのローカル・プロクシ―として動く。Simple DNSCryptを設定したら、ネットワーク・アダプターのDNSを127.0.0.1と::1だけにしておくだけだ。</p>

<p>DoTを使いたい場合は、同じようにローカルで動く<a href="https://github.com/getdnsapi/stubby">Stubby</a>くらいしかないようだ。こっちはまだ試していない。</p>

    </main>

    <footer class="page-footer">
      <p><a href="#top"><span aria-hidden="true">↑ </span>一番上</a> · <a href="/blog/"><span aria-hidden="true">← </span>雑多な記録の一覧</a></p>

      <p><a title="Creative Commons (表示)" href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a> · <a href="/feed" type="application/rss+xml">RSS</a> (<a href="/blog/feed" type="application/rss+xml">雑多な記録だけのRSS</a>)</p>
    </footer>
  </body>
</html>
