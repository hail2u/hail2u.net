<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width" name="viewport">

    <title>googlebot plugin</title>

    <link title="ウェブサイト全体のRSS" href="/feed" rel="alternate" type="application/rss+xml">
    <link title="記事だけのRSS" href="/blog/feed" rel="alternate" type="application/rss+xml">
    
    
    
    <link href="/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="mailto:hail2u@gmail.com" rel="author">
    <link href="https://hail2u.net/blog/blosxom/googlebot_plugin.html" rel="canonical">
    <meta content="V. W. MarshallのIn Which the Fly Invites the Spider Into His Parlorと言うエントリにinspireされて(inspireとはパクったのを誤魔化したい時に使う言葉です)、Googlebotが自分が設置したblosxomのどこかしらのページをクロールした時メールを送信するプラグイン、googlebotと言うものを作ってみました。" name="description">
    <link href="/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="https://creativecommons.org/licenses/by/4.0/" rel="license">
    <link href="https://duckduckgo.com/?q=site%3Ahail2u.net" rel="search">

    <link href="/css/print.css?v=9.32.5" media="only print" rel="stylesheet">
    <link href="/css/index.css?v=9.32.5" media="only screen" rel="stylesheet">
  </head>

  <body>

      <nav id="top">
        <p class="logo"><a href="/"><span aria-label="ホームへ戻る">←</span></a></p>
      </nav>

      <header class="page-header">
          <p class="date"><time datetime="2004-06-27T19:15:08+09:00">2004年6月27日</time></p>

        <h1><em>googlebot plugin</em></h1>
      </header>

    <main>
      <p><a href="http://www.vwmarshall.net/" title="V. W. Marshall">V. W. Marshall</a>の<a href="http://www.vwmarshall.net/archives/000998.php" title="V. W. Marshall: In Which the Fly Invites the Spider Into His Parlor">In Which the Fly Invites the Spider Into His Parlor</a>と言うエントリにinspireされて(inspireとはパクったのを誤魔化したい時に使う言葉です)、<a href="http://www.google.com/bot.html" title="Googlebot">Googlebot</a>が自分が設置した<a href="http://www.blosxom.com/" title="blosxom :: the zen of blogging ::">blosxom</a>のどこかしらのページをクロールした時メールを送信するプラグイン、googlebotと言うものを作ってみました。</p>
<p>以下、コード。</p>
<pre><code class="language-perl"># Blosxom Plugin: googlebot
# Author(s): Kyo Nagashima &lt;kyo@hail2u.net&gt;
# Version: 1.0
# Blosxom Home/Docs/Licensing: http://www.blosxom.com/

package googlebot;

use strict;

# --- Configurable variables -----------

my $sendmail = &apos;/usr/sbin/sendmail&apos;;
my $from     = &apos;googlebot@example.com&apos;;
my $to       = &apos;john.doe@example.com&apos;;
my $subject  = &apos;Welcome Googlebot.&apos;;

# --- Plug-in package variables --------

# --------------------------------------

sub start {
  if (
    $ENV{&apos;HTTP_USER_AGENT&apos;} =~ /Googlebot/ and
    open(MAIL, &quot;| $sendmail -t&quot;)
  ) {
    print MAIL &lt;&lt;&quot;_MAIL_&quot;;
From: $from
To: $to
Subject: $subject
Content-Type: text/plain; charset=ISO-2022-JP

Googlebot tries to index the following page:
http://example.com$ENV{&apos;REQUEST_URI&apos;}
_MAIL_
    close(MAIL);
  }

  return 0;
}

1;</code></pre>
<p>てか、使ってないので動くかどうかは知りませんけど。</p>
<p>なんて奴だ。</p>
<p>inspire元のエントリにもあるように、いろいろな検索エンジンのロボットをトラッキングすると面白いかもしれないですね。</p>
    </main>

    <footer class="page-footer">
      <hr>

        <p>このウェブサイトは<a href="mailto:hail2u@gmail.com">ながしまきょう</a>が<a title="Creative Commons (表示)" href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a>の下で作成、公開、そして更新しています。更新情報は<a href="/feed" type="application/rss+xml">RSS</a> (<a href="/blog/feed" type="application/rss+xml">記事だけのRSS</a>)または<a href="https://x.com/hail2u_">X</a>で購読できます。その他、わからないことは<a href="https://hail2u.net/about/">もう少し詳しい情報</a>を参照してください。</p>

      <p><a href="#top"><span aria-hidden="true">↑ </span>一番上</a></p>
    </footer>
  </body>
</html>
