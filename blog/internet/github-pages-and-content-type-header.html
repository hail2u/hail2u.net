<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="same-origin" name="view-transition">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>GitHub PagesとContent-Typeヘッダー</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2014-10-28</time></p>

    <h1>GitHub PagesとContent-Typeヘッダー</h1>

    <p>GitHub Pagesでは未知のファイルは<code>application/octet-stream</code>で配信される。未知のファイルとは未知の拡張子を持つファイルと拡張子を持たないファイルの二つに分けられる。例えばこのウェブサイトのRSSフィードは拡張子なしの<code>feed</code>というファイルのため、適切なContent-Type (<code>application/rss+xml</code>)で配信されていない。</p>

<p>Content-Typeの制御はファイルの拡張子でのみ行うことにGitHub Pagesではなっている。RSSならば<code>.rss</code>、Atomなら<code>.atom</code>という拡張子である必要があるということだ。バックエンド(<a href="https://www.fastly.com/">Fastly</a>？)でそうなっているためな気がするが、ちょっと不自由なところがある。</p>

<p>ごく一部のRSSリーダーは適切なContent-Typeが返ってこない場合に購読できなかったり新着が読めなくなったりするようだ。Content-Typeを無視しろとまでは思わないが、せめて<code>application/octet-stream</code>は解釈を試みて欲しいと思う。</p>

<hr>

<p>今のところURLを維持したまま直す方法がないのでこのままにしておく。Content-Type以外にもCache-Controlといったパフォーマンスに直結するヘッダーも変更したいと感じることも多く、ホスティング自体は静的ファイルのみだが、<code>.htaccess</code>的なものは使えるレンタル・サーバーが欲しいなという気持ちが強まってきた。</p>
  </body>
</html>
