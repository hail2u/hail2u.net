<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Windows Terminal向けVS Code Dark/Lightカラースキーム</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2020-06-20</time></p>

    <h1>Windows Terminal向けVS Code Dark/Lightカラースキーム</h1>

    <p>VS Codeの配色テーマでSolarized Lightを使っていると、このウェブサイトがグレーに見えてしまうので、最近はLight+を使っている。Windows TerminalではまだSolarized Lightを使っていたが、同じにしたくなったので、<a href="https://github.com/hail2u/vscode-color-scheme-for-windows-terminal">Light+(とDark+)を地道に移植したもの</a>を使うようにした。</p>

<figure>
<img alt="Light+を移植したものは、Terminal.appの配色に近いものだった。" height="1056" src="/img/blog/vscode-color-scheme-for-windows-terminal-light.png" width="1344">
</figure>

<p>brightが判断しづらい。多分、VS Codeではboldが使えるので、brightが判別しづらくてもいいと判断されたんじゃないかと思う。Windows Terminalではboldが使えないので、このあたりで問題が起きる可能性は高い。</p>

<figure>
<img alt="Dark+を移植したものはxtermの配色から彩度を落とした感じになった。" height="1056" src="/img/blog/vscode-color-scheme-for-windows-terminal-dark.png" width="1344">
</figure>

<p>Darkもあるが、使っていない。こちらの方がまだbrightを判別しやすいように見える。</p>

<hr>

<p>Light+やDark+だと、テーマ・ファイルの実体がないため、JSONファイルを変換するツールは作れなかった。そのため、地道に変換する。</p>

<p>Light+テーマを使用中に、コマンド パレットから「開発者: 現在の設定から配色テーマを作成する(Developer: Generate Color Theme From Current Settings)」を実行すると、JSONファイルが生成され、タブに開かれる。その中で<code>terminal.</code>で始まるキーがターミナルで使われている配色なので、これらをWindows Terminalのカラースキーム向けに書き換えればいい。</p>

<p>書き換えは、<code>terminal.ansi</code>を削除して、<code>Bright</code>を小文字に変換し、<code>magenta</code>を<code>purple</code>に置換する。また、<code>background</code>が存在しないので、<code>panel.background</code>をコピーするか、カラー・ピッカーか何かで拾う必要があった。</p>
  </body>
</html>
