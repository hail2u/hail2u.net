<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>65ch→90ch→96ch→88ch</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2022-01-12</time></p>

    <h1>65ch→90ch→96ch→88ch</h1>

    <p>コンテンツ幅がこのように変遷している。最初は<code>rem</code>単位で作っていた幅を、単純に<code>ch</code>単位に移し替えたものだった(Noto Sans CJK JPを想定している)。次に1行の文字数を基準に、広い画面で36文字になるようにした。ちょっと狭いと感じ、次に<code>96ch</code>にする。この後、画面幅に応じた文字サイズの変更をやめたので、思ったよりも広くなってしまい、現在はひらがな48文字相当である<code>88ch</code>になっている。</p>

<p>この「ひらがな48文字」は、日本の単行本がだいたい40から50文字なことから決めた。当初の「36文字」は、日本の文庫本が35から45文字なことから決めていた。コンテンツの性質の軽さからすると、文庫本の数値の方が向いていそうと考えていたが、余白が大きめな体裁を考慮して、より体裁が近い単行本の数値に変更した。</p>

<p>1年近く、コンテンツ幅に<code>ch</code>単位を使った結果、英語のウェブページには有用だが、日本語のウェブページではうまく働かない、という感想を持った。数字の0の幅と、日本語のひらがなの間に論理的な関係がないからだ。つまり、文字サイズ(やフォント)の変化につれて、想定通りに、つまり行あたりの文字数が変化しないようになってはくれない。</p>

<p>矩形に収められる日本語のひらがな、カタカナ、漢字に対しては、<code>em</code>単位の方がうまく対応する。とはいっても、同じく直感的な数値にはならないため、<code>em</code>単位に戻すほどでもない。しばらくは<code>ch</code>単位を使いつつ、日本語のウェブページに最適なはずの<code>ic</code>単位を待つことにしたい。ついにFirefox 97で実装されているようで、楽しみだ。</p>
  </body>
</html>
