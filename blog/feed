<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
  xml:lang="ja"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:creativeCommons="http://backend.userland.com/creativeCommonsRssModule">
  <channel>
    <description>ウェブ開発に関する話題が中心でしたが、もはやそれに限らず備忘録に近いものです。</description>
    <link>https://hail2u.net/blog/</link>
    <managingEditor>hail2u@gmail.com (Kyo Nagashima)</managingEditor>
    <title>雑多な記録 - Hail2u</title>
    <atom:link href="https://hail2u.net/blog/feed" rel="self" type="application/rss+xml"/>
    <creativeCommons:license>https://creativecommons.org/licenses/by/4.0/</creativeCommons:license>

      <item>
        <description><![CDATA[久々に靴を、pgでは珍しい革靴のKnockを買った。防水透湿のメンブレン・シートが挟まっていたりするらしい。底が厚く大ぶりな靴だが、スエードだったり、丸みを帯びていたり、靴紐がワイヤーだったりして、それほどごつくない。フリーロックもモンク・ストラップのベルトっぽく思えてきた。27500円だった。]]></description>
        <guid>https://hail2u.net/blog/pg-knock.html</guid>
        <link>https://hail2u.net/blog/pg-knock.html</link>
        <pubDate>Sun, 25 Aug 2024 07:12:54 +0900</pubDate>
        <title><![CDATA[pgのKnock]]></title>
        <content:encoded><![CDATA[<figure>
<picture>
<source srcset="/img/blog/pg-knock.avif" type="image/avif">
<img alt="" height="1440" src="https://hail2u.net/img/blog/pg-knock.jpg" width="2560">
</picture>
</figure>

<p>久々に靴を、<a href="https://www.playgroundstore.jp/categories/4369951">pg</a>では珍しい革靴のKnockを買った。防水透湿のメンブレン・シートが挟まっていたりするらしい。底が厚く大ぶりな靴だが、スエードだったり、丸みを帯びていたり、靴紐がワイヤーだったりして、それほどごつくない。フリーロックもモンク・ストラップのベルトっぽく思えてきた。27500円だった。</p>

<p>スニーカーを主に修繕している店のブランドだけあって、履き心地に革靴っぽさがない。履き口の柔らかさや甲のなじみやすさが心地よく、フリーロックも相まって足の形を選ばなさそうな優しい靴だ。2万くらい歩いても普段履いているスニーカーとあまり変わらない疲れ具合だった。一方で、フリーロックが壊れそうという不安がどうしても拭えない。これの耐久性次第で評価が反転するかもしれない。</p>

<hr>

<p>代わりに引退したのは<a href="https://hail2u.net/blog/allbirds-wool-runners-black.html">一番最近に買ったAllbirds</a>だ。底がつるつるになり、雨の日に横断歩道の白線で滑るようになってしまい、晴れの日にしか履けなくなった。3日に1回の頻度で履いて2年半なので、そこそこ耐えたとは思う。後継版はソールの溝が深くなり、滑りづらくなっているらしい。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[暑いので近い横浜にある港の見える丘公園に行く。実際には大佛次郎記念館に行ったが、展覧会が感想を書く気になれないようなものだったので、公園へ行ったということにする。元町・中華街駅からそこそこ歩く、しかも登るので、結局は暑い。]]></description>
        <guid>https://hail2u.net/blog/harbor-view-park-2024-08-06.html</guid>
        <link>https://hail2u.net/blog/harbor-view-park-2024-08-06.html</link>
        <pubDate>Fri, 9 Aug 2024 11:03:32 +0900</pubDate>
        <title><![CDATA[港の見える丘公園]]></title>
        <content:encoded><![CDATA[<figure>
<picture>
<source srcset="/img/blog/harbor-view-park-2024-08-06.avif" type="image/avif">
<img alt="展望台から海へ向かってマンション、高架道路、工場、橋など、様々な建築物が並ぶ" height="1440" src="https://hail2u.net/img/blog/harbor-view-park-2024-08-06.jpg" width="2560">
</picture>
</figure>

<p>暑いので近い横浜にある港の見える丘公園に行く。実際には<a href="https://osaragijiro-museum.jp/">大佛次郎記念館</a>に行ったが、展覧会が感想を書く気になれないようなものだったので、公園へ行ったということにする。元町・中華街駅からそこそこ歩く、しかも登るので、結局は暑い。</p>

<p>元町・中華街駅の南端の出口から、まずはアメリカ山公園に行く。ちらほら花もあるが、季節的に緑だらけで。これはこれで気持ちが良い。下のビルにある保育所の子供たちが遊んでいたり、デートしている社会人がいたり、なごやかな雰囲気だ。</p>

<figure>
<picture>
<source srcset="/img/blog/harbor-view-park-2024-08-06-yamate.avif" type="image/avif">
<img alt="道路脇にひょろっと立っている時計は、文字盤が3の倍数の時刻表示のみローマ数字になっている" height="1440" src="https://hail2u.net/img/blog/harbor-view-park-2024-08-06-yamate.jpg" width="2560">
</picture>
<figcaption>山手</figcaption>
</figure>

<p>外人墓地と大きな家に挟まれた道を進み、港の見える丘公園を目指す。この辺りへは久しぶりに来たが、こんなに高級住宅街な雰囲気だったという記憶がない。明らかに10部屋以上ありそうな大きな家が並んでいる。ここが本気を出した横浜か。途中にあった時計の文字盤が<a href="https://www.isseymiyake-watch.com/watches/u.html">ちょっと欲しい腕時計</a>の文字盤に似ていた。</p>

<p>公園では展望台から、南へ進み、霧笛橋と神奈川近代文学館をまず目指す。ランニングをしている人、散歩をしている人、観光客、となかなか盛況だ。近代文学館からはぶらぶら回りながらゆっくり大佛次郎記念館を目指す。建物はかっこいい。</p>

<figure>
<picture>
<source srcset="/img/blog/harbor-view-park-2024-08-06-french-mountain.avif" type="image/avif">
<img alt="高い木に囲まれた中、急激に登っていく" height="1440" src="https://hail2u.net/img/blog/harbor-view-park-2024-08-06-french-mountain.jpg" width="2560">
</picture>
<figcaption>フランス山への階段</figcaption>
</figure>

<p>展覧会で無になった後はフランス山の方へ歩き、駅を目指す。山に入ると林の中という感じになり、一気に涼しくなる。最後の出口というか、元町側の入口に着くとMEGAドン・キホーテの看板が出迎えてくれるあたりが残念な感じだ。特に何も用事がないので、横浜で昼ごはんを食べ、美味しいパンと高いうなぎを買って帰る。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[7月の半ばにタワーレコードでThe Strokesのレコードを探していたら、ちょうど江口寿史のTシャツが予約受付中で、勢いで買ってしまった。タワーレコードでは全サイズ売り切れっぽいが、レコファンでは少し残っているらしい。着て外に行く勇気は出なかったので、額に入れて飾っている。]]></description>
        <guid>https://hail2u.net/blog/record-chan.html</guid>
        <link>https://hail2u.net/blog/record-chan.html</link>
        <pubDate>Sat, 3 Aug 2024 07:05:55 +0900</pubDate>
        <title><![CDATA[レコードちゃん]]></title>
        <content:encoded><![CDATA[<figure>
<picture>
<source srcset="/img/blog/record-chan.avif" type="image/avif">
<img alt="レコードを手に持って見ている人が椅子に座っているイラストが、正方形の額に収まり、壁にかかっている" height="1440" src="https://hail2u.net/img/blog/record-chan.jpg" width="2560">
</picture>
</figure>

<p>7月の半ばにタワーレコードでThe Strokesのレコードを探していたら、ちょうど<a href="https://tower.jp/item/6405236">江口寿史のTシャツ</a>が予約受付中で、勢いで買ってしまった。タワーレコードでは全サイズ売り切れっぽいが、レコファンでは少し残っているらしい。着て外に行く勇気は出なかったので、額に入れて飾っている。</p>

<p>額はフライング・タイガーで売っているLPサイズの額だ。32cm四方まで入るようになっているので、たいていのLPジャケットは入る。そこそこ余裕もあり、このようにTシャツくらいならギュギュっと詰め込める。余った布を入れたり、Tシャツを入れたり、マンガ雑誌のページを入れたり、あまりまともな使い方をしていない。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[先月末くらいからThe Tokyo Toiletの本を探して近場の本屋をさまよっていた。しかし、全然見つからない。映画の配給会社から出ている本は書籍扱いではないらしく、本屋で売っていないことに気づくまでかなり時間がかかった。売っていそうな店は近場になさそうなこともあり、インターネットで検索して購入する。文庫本よりちょっと小さいサイズで読みづらいが、面白かった。映画のほとぼりが冷めそうな来年の春くらいに歩いて全トイレを巡りたい。その頃にPrime Videoに降りてきて再燃していそうだ。]]></description>
        <guid>https://hail2u.net/blog/book-poster-jeans.html</guid>
        <link>https://hail2u.net/blog/book-poster-jeans.html</link>
        <pubDate>Thu, 18 Jul 2024 18:03:00 +0900</pubDate>
        <title><![CDATA[本、ポスター、ジーンズ]]></title>
        <content:encoded><![CDATA[<figure>
<picture>
<source srcset="/img/blog/book-poster-jeans.avif" type="image/avif">
<img alt="3.4cm四方のグリッドに名作椅子の素描がずらっと並ぶ" height="1440" src="https://hail2u.net/img/blog/book-poster-jeans.jpg" width="2560">
</picture>
</figure>

<p>先月末くらいから<a href="https://tokyotoilet.jp/">The Tokyo Toilet</a>の本を探して近場の本屋をさまよっていた。しかし、全然見つからない。映画の配給会社から出ている本は書籍扱いではないらしく、本屋で売っていないことに気づくまでかなり時間がかかった。売っていそうな店は近場になさそうなこともあり、インターネットで検索して購入する。文庫本よりちょっと小さいサイズで読みづらいが、面白かった。映画のほとぼりが冷めそうな来年の春くらいに歩いて全トイレを巡りたい。その頃にPrime Videoに降りてきて再燃していそうだ。</p>

<p>本を買う時に同じ店で売っていた、ブルーノ・ムナーリのポスターを買う。上の写真がそれの一部だ。<a href="https://hail2u.net/blog/exhibitions-201901-03.html">数年前に世田谷美術館での展覧会を見た時</a>に見かけたような気がする。白黒なので机付近に掛けておいても気にならない。反面、内装としてはシャキッとしないので、細めの黒いフレームで額装し、壁紙に溶け込まないようにしたい(今はポスター・ハンガーで下げているだけだ)。</p>

<p>なんとなくジーンズも買う。まともそうなジーンズを新品で買おうとすると、どうやっても2万円くらいしてしまう。セールを待って探してみたりもしたが良いものが見つけられない。しょうがないので町田で古着をあさり、ヒゲやハチノスなどが存在しない、平坦に色落ちしたLevi’sの751を買う。ポケットのふちと裾がちょっと破れているくらいで、穴などはなく、丈もやや長めくらいで、まずまずだ。4180円でうれしい。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[3か月ごとの定期リリースでvim-css3-syntaxのv2.4.0を出した。View TransitionsモジュールのLevel 2が追加されたため、マイナー番号が上がっている。今回もあまり変化はない。あまり変化がないというよりは、あまり興味がない。Chromeでは揃ったようなので、興味を持たなくてはならない。]]></description>
        <guid>https://hail2u.net/blog/vim-css3-syntax-v2.4.0.html</guid>
        <link>https://hail2u.net/blog/vim-css3-syntax-v2.4.0.html</link>
        <pubDate>Fri, 12 Jul 2024 08:30:59 +0900</pubDate>
        <title><![CDATA[vim-css3-syntax v2.4.0]]></title>
        <content:encoded><![CDATA[<p>3か月ごとの定期リリースで<a href="https://github.com/hail2u/vim-css3-syntax/releases/tag/v2.4.0">vim-css3-syntaxのv2.4.0</a>を出した。<a href="https://www.w3.org/TR/2024/WD-css-view-transitions-2-20240516/">View TransitionsモジュールのLevel 2</a>が追加されたため、マイナー番号が上がっている。今回もあまり変化はない。あまり変化がないというよりは、あまり興味がない。Chromeでは揃ったようなので、興味を持たなくてはならない。</p>

<p><a href="https://www.w3.org/TR/2024/WD-css-text-4-20240529/">TextモジュールのLevel 4</a>も更新されているが、実装のないあたりの話なのであまり関係がない。ただし、Chrome 123でこのモジュールにある<code>text-spacing-trim</code>プロパティーが一部実装されている。位置や前後関係を考慮して全角約物の持つ空白を調整するプロパティーだ。CJKの話なので、欧米圏ではほぼ無視されている。実装された値のひとつである<code>trim-start</code>を使うと、行頭の開き鍵括弧にある空白を削除したり、句読点に続く全角記号の空白を縮小したりさせられるようになっている。同じようなことが実現できていた<code>font-feature-settings</code>プロパティーの<code>halt</code>は使い方が難しい(前後関係を考慮してくれない)が、<code>text-spacing-trim</code>プロパティーなら新規実装ということもあって危険性はなく、気軽に使い始められるだろう。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[松岡美術館にモディリアーニなどの所蔵品が出てくる展覧会を見に行く。てっきり中東からアジアの陶器や彫刻の美術館と思っていたが、他にもいろいろ持っているようだ。モディリアーニは好きなので、ポスターになっているとなったら行くしかない。]]></description>
        <guid>https://hail2u.net/blog/legacy-2024-07-02.html</guid>
        <link>https://hail2u.net/blog/legacy-2024-07-02.html</link>
        <pubDate>Sat, 6 Jul 2024 07:41:53 +0900</pubDate>
        <title><![CDATA[レガシー(松岡美術館)]]></title>
        <content:encoded><![CDATA[<figure>
<picture>
<source srcset="/img/blog/legacy-2024-07-02.avif" type="image/avif">
<img alt="通りからすぐ、松の木の陰に美術館の入り口がある" height="1440" src="https://hail2u.net/img/blog/legacy-2024-07-02.jpg" width="2560">
</picture>
</figure>

<p>松岡美術館に<a href="https://www.matsuoka-museum.jp/contents/8833/">モディリアーニなどの所蔵品が出てくる展覧会</a>を見に行く。てっきり中東からアジアの陶器や彫刻の美術館と思っていたが、他にもいろいろ持っているようだ。モディリアーニは好きなので、ポスターになっているとなったら行くしかない。</p>

<p>白金台なので乗り換えなしで行ける。西高島平行に乗ると、相鉄線から、相鉄新横浜線、東急新横浜線、東急目黒線、都営三田線と乗り入れ、1時間ちょっとで到着だ。代々木上原駅と国会議事堂前駅経由で2回乗り換えた方が250円くらい安いが、時間はあまり変わらない。相互乗り入れにも慣れてきて、どこに行く時にどの乗り入れを利用すれば良いかがわかるようになった。</p>

<p>白金台からは外苑西通りの終点から北へ進むだけだ。通りの左右にはちょっと古い洋館のような建物と現代的なビルが並んでおり、なかなか見ない景観だ。建物の構成としては代官山と似ている気もするが、もうちょっと落ち着いた雰囲気もある。美術館は通りから少し入ったところだ。</p>

<hr>

<p>展覧会は2階の2部屋で行われているようだ。1900年代前半のパリにゆかりのある作家の作品が40ほど展示されている。所蔵品の蔵出しということもあり、展示に工夫はあまりない。反面、質の良い常設展示を見るような落ち着いた良さもあり、ゆったりと楽しめる。目的だったモディリアーニやユトリロは素晴らしかったが、それ以外にも藤田嗣治の「聖誕 於巴里」が良かった。なかなかの大きさでもあり、藤田らしい色使いでもあり、思わずもう一度見に戻ってしまう。他、同時開催の展覧会や常設の彫像類もゆっくり楽しむ。</p>

<figure>
<picture>
<source srcset="/img/blog/legacy-2024-07-02-sheep.avif" type="image/avif">
<img alt="駐車場の隅に石像が2体並んでいる" height="1440" src="https://hail2u.net/img/blog/legacy-2024-07-02-sheep.jpg" width="2560">
</picture>
<figcaption>白澤感のある羊</figcaption>
</figure>

<p>美術館の門構えは凝っているが、周囲に大木が並んでおりひっそりと建っている印象だ。建物内部は普通の美術館で、目新しい所はほとんどない。ただ窓ガラス越しに見た庭はかなり良い雰囲気で、公開される期間があるのなら是非歩きたい。</p>

<hr>

<figure>
<picture>
<source srcset="/img/blog/legacy-2024-07-02-shibuya-river.avif" type="image/avif">
<img alt="明治通りの手前で天現寺方面へと流れていく川を越える" height="1440" src="https://hail2u.net/img/blog/legacy-2024-07-02-shibuya-river.jpg" width="2560">
</picture>
<figcaption>渋谷川</figcaption>
</figure>

<p>展覧会後は南青山のいつものパン屋を目指す。美術館のすぐそこにあるバス停から西麻布まで行き、そこから歩くのが良さそうだ。しかし次のバスまで30分くらいある。ちょっと暑いが、歩き始める。おおよそ北北西に向かってテクテク歩く。20分くらいで嫌になってきたが、広尾病院を越え、日赤医療センターが見えてきたので、もう少しだ。</p>

<p>パン屋ではいつものサワードウを買いつつ、昼ご飯も食べる。チャバッタを使ったホットサンドが3種類あり、まだ食べたことのなかったキーマカレーのものにする。チーズと、カレー、生のトマトが挟まったもので、トマトのおかげか、はたまた暑さのせいか、さっぱりと食べられた。ここのホットサンドはどれも美味しい。</p>

<p>食後はさすがにバスに乗り渋谷へ行く。スクランブルスクエアでちょっと涼む。4階は半年くらい改装中のままだが、何をやっているんだろうか。家人に頼まれた用事があるので、すぐに横浜へ向かう。</p>

<p>そごうで用事をこなした後は、いろいろ見て回る。今年はどこもセールが遅めで、まだ百貨店でしか行われていないようだ。ちょっと欲しかった<a href="https://jpn.mizuno.com/ec/disp/attgrp/D1GA2251/">ミズノのWave Prophecy Strap</a>を見つけたが、踏ん切りはつかなかった。他にカジュアルな革靴も見つけたが、8月に防水透湿の素材違いも出るらしいので、家に帰って悩むことにする。</p>

<p>暑さも極まってきたので、ヨドバシカメラに行くのはやめ、家路に就く。調子が悪い電子レンジの買い替えを検討していて、高級なものをいろいろ見に行くつもりだった。Nature Remo Lapisが出た後に改めて行こう。温度センサーとMatter対応の組み合わせはちょっと興味ある。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[マイナー番号が上がり、いろいろ変わったが、雰囲気は変わっていない。内部的な話で、少し前にやらかしたことから、画像を含めた静的ファイルもmainブランチに持っておくように戻す。いざとなったら再構築するだけで最新の状態を完全再現できる予定だ。それ以外にウェブサイト設定の持ち方を変えたりしてしまったのでマイナー番号を上げる。]]></description>
        <guid>https://hail2u.net/blog/managing-static-files.html</guid>
        <link>https://hail2u.net/blog/managing-static-files.html</link>
        <pubDate>Sat, 29 Jun 2024 18:17:54 +0900</pubDate>
        <title><![CDATA[静的ファイルの管理(v9.32.0)]]></title>
        <content:encoded><![CDATA[<p>マイナー番号が上がり、いろいろ変わったが、雰囲気は変わっていない。内部的な話で、少し前にやらかしたことから、画像を含めた静的ファイルも<code>main</code>ブランチに持っておくように戻す。いざとなったら再構築するだけで最新の状態を完全再現できる予定だ。それ以外にウェブサイト設定の持ち方を変えたりしてしまったのでマイナー番号を上げる。</p>

<p>また、ロゴとサイト・メニューで画面を縦いっぱいに使うようにする。今はサイト・メニューを真ん中寄せにしているが、スマートフォンでの操作性を考えると下寄せの方が良いかもしれない。<a href="https://neatnik.net/">メニューが別ページのウェブサイト</a>があって、ちょっといいなと思ったので、それに近いものへ移行する途中だ(けれど、断念しそうだ)。下位ページにはホームに戻るハンバーガー・ボタンを置き、あたかもフルスクリーン・メニューっぽく開けるようにしたい。</p>

<nav>
<h2>目次</h2>

<ul>
<li><a href="#oneline-grid">グリッドを1行目だけに</a></li>
<li><a href="#bottom-most-white-spaces">一番下の余白</a></li>
<li><a href="#pick-random-elements-from-array">配列からランダムに選択</a></li>
</ul>
</nav>

<section id="oneline-grid">
<h2>グリッドを1行目だけに</h2>

<p>ところどころで利用しているShowcaseコンポーネントは幅に応じて2～4列の繰り返しグリッドになっている。つまり項目が12の倍数ではない場合は、幅によって不定な数の余りが出るということだ。通常はきっちり並ばなくても良いような使い方をしているが、ホームでは12にすると多すぎる(2列6行はかなり長い)ので4に項目を絞っている関係上、3列になる幅だと1つだけ2行目に送られてしまい、納まりがあまり良くない。<code>:nth-row()</code>セレクターなどがあれば話は速いが、ないものはないのでどうにかする。</p>

<pre><code class="language-css">.showcase {
  align-items: <mark>safe</mark> end;
  display: grid;
  grid-template-columns: repeat(...);
}

.showcase.oneline {
  grid-template-rows: 1fr 0 0 0;
  overflow: hidden;
  row-gap: 0;
}</code></pre>

<p>1行目だけ高さを確保し、はみ出したものを隠し、項目間の縦の隙間を0する。<code>1fr</code>に続く<code>0</code>の数は最大で何行になるかによって変えるが多めに指定しておくと安全かもしれない。これだけで済みそうだったが、<code>align-items</code>プロパティーで<code>start</code>やそれに相当する値でない場合は、ブラウザーがなんとか表示しようと頑張ってしまうため、隠したつもりの項目が上に重なってしまう。そこで納まらない場合は<code>start</code>として配置するよう、明示的に<code>safe</code>を追加しておく。<code>safe</code>キーワードはうっかり隠れてしまわないようにするものなので、使い方はとしては間違っているような気がしないでもない。</p>

<p>ショッピング・サイトのホームで各カテゴリから商品を少しだけ並べたり、商品ページで関連商品をちょっとだけ並べたり、複数行並べると多すぎそうな場合に使うよう考えた。商品検索結果などで使うグリッドの見た目を流用しつつ、1行だけに絞ることで、統一感と一覧性を確保できると思う。しかし、コードから見るといずれ破綻しそうなことがよく見え、グリッドでやるべきことではないようにも考えられる。</p>
</section>

<section id="bottom-most-white-spaces">
<h2>一番下の余白</h2>

<p>シンプルなウェブページの場合、コンテンツが画面の下端付近まで続き、フッターが1行か2行あるだけということが多い。画面の下端付近にあるコンテンツは、横長、多分3:2 (Surface Pro)や4:3 (iPad)くらいまでの画面なら視界の範囲内なので、読みづらくなることはない。対して、縦長(2:3や3:4)の画面だと、首を動かすか、タブレット端末なら画面を持ち上げる必要が出てくると思う。Feedlyなどがそうで、Surface Proを縦にして見ているとかなり読みづらいと感じている。</p>

<p>このウェブサイトもそんな感じで読みづらいのではないかと仮説を立てたので、下の余白を大幅に増やしてみている。具体的にはポートレイトなiPadの真ん中に、16:9のやや狭い視界があると仮定し、それより下にコンテンツが来ないよう余白を計算している。</p>

<pre>(1 - 3 / 16 * 9 / 4) / 2 * 100vh = 28.906vh</pre>

<p>これからフッターの高さを引くと、コンテンツの終わりが視界に納まるようになるかもしれない。だがフッターの高さが不定なので、どうしようかと悩んでいる。とりあえずは1行分の高さを引いて誤魔化している。ただ、フッターを見たいこともあるので、引かなくても良いとも考えられる。加えておおむね画面の中央よりやや上に視界の中心があることも多そうなので、調整をせずともコンテンツの終わりが視界に入りそうな気もする。</p>
</section>

<section id="pick-random-elements-from-array">
<h2>配列からランダムに要素を切り出し</h2>

<p>配列からランダムに要素を3つ切り出したい時に、シャッフルしてから先頭から3つ取り出していた。もうちょっとテキトウにできそうかなと、<code>Array().fill().map()</code>でやるように変える。パッと見に何をやっているのかわからない。</p>

<pre><code class="language-css">const pick3Articles = (articles) => Array(3)
  .fill(articles.length)
  .map((max) =&gt; articles[Math.floor(Math.random() * max)]);</code></pre>

<p><code>Array()</code>で作られる疎配列に<code>map()</code>はうまくいかないので、<code>fill()</code>を噛ませている。スプレッド構文(<code>[...Array(3)]</code>)でも良いが、使う機会があまりない<code>fill()</code>を使いたくなった。問題は切り出す要素が被ることだが、それほど致命的でもなく確率的にも低いので良しとした。</p>
</section>

<hr>

<p>他だと数千行の空行が出力されてしまうMustacheテンプレートの問題を修正したり、頻繁にValidatorをかけるようにしたりなどだ。<a href="https://hail2u.net/subscriptions/#websites">購読中のウェブサイト</a>もウェブサイトと著者を併記するように戻す。また、<a href="https://hail2u.net/blog/">雑多な記録ページ</a>で概要を表示するようにした結果、狭い画面だと長い単語のせいでレイアウトが崩れてしまう問題があった。同様の問題は<a href="https://hail2u.net/statuses/">最近の様子ページ</a>にもあるが、こちらはCSSの<code>overflow-wrap</code>プロパティーで<code>anywhere</code>を指定することで誤魔化し、雑記側は単語を修正することで直している。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[GitHubにはブランチActivityという機能があり、そこでは強制プッシュなどで見えなくなったコミットのハッシュも見つかるようだ。ローカルの.gitディレクトリーも初期化した状態で強制pushしても、この機能を使うとすんなりと最後に正常だった状態を参照し、救出できる。ブランチActivityにはブランチ一覧ページの各ブランチの操作メニューから移動する。「ブランチの削除」ボタンや「ブランチの名前変更」メニュー項目などが近いので危ない。]]></description>
        <guid>https://hail2u.net/blog/github-branch-activities.html</guid>
        <link>https://hail2u.net/blog/github-branch-activities.html</link>
        <pubDate>Thu, 27 Jun 2024 08:06:29 +0900</pubDate>
        <title><![CDATA[GitHubのブランチActivity]]></title>
        <content:encoded><![CDATA[<p>GitHubにはブランチActivityという機能があり、そこでは強制プッシュなどで見えなくなったコミットのハッシュも見つかるようだ。ローカルの.gitディレクトリーも初期化した状態で強制pushしても、この機能を使うとすんなりと最後に正常だった状態を参照し、救出できる。ブランチActivityにはブランチ一覧ページの各ブランチの操作メニューから移動する。「ブランチの削除」ボタンや「ブランチの名前変更」メニュー項目などが近いので危ない。</p>

<p>Activityからは、救出したい状態の操作メニューでブランチの比較へ飛ぶ。DIFFページではそのコミットの状態でリポジトリーを閲覧できるので、CodeメニューからZIPファイルをダウンロードすれば救出できる。プッシュや、ブランチの作成・削除、PRの作成、マージなど、GitHub側で認識できる操作は揃っているようだ。コミット履歴を取り戻すことは無理そうなので、完全な復旧というわけにはいかない。</p>

<hr>

<p>gh-pagesブランチの古いコミットを確認していて、やりたいことがブランチのつくり直しでしか実現できなさそうだとわかった。しょうがないので.gitディレクトリーを削除し強制プッシュしたが、うっかり古いコミットをチェックアウトした状態でpushしてしまい、復旧不可能になった。もちろんローカルで<code>reflog</code>もできないので、どうしようかと思案していたが、GitHub側では完全に消えないことがわかった。たまたまgh-pagesブランチだったので、Actionsのログからハッシュを探して救出した。Activityについてはその後発見することになる。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[2023年の12月に行った展覧会の後期を見に、再びWHAT MUSEUMへ行く。前期へ行った時、その直後はあまり行く気がなかったが、法隆寺の1/10模型がかっこよさそうだったので行くことにする。梅雨前ですっきりしない天気のようだが、快適そうな気温で海沿いは気持ち良いはずだ。]]></description>
        <guid>https://hail2u.net/blog/sense-of-structure-second-term-2024-06-04.html</guid>
        <link>https://hail2u.net/blog/sense-of-structure-second-term-2024-06-04.html</link>
        <pubDate>Wed, 12 Jun 2024 12:50:32 +0900</pubDate>
        <title><![CDATA[感覚する構造・後期(WHAT MUSEUM)]]></title>
        <content:encoded><![CDATA[<figure>
<picture>
<source srcset="/img/blog/sense-of-structure-second-term-2024-06-04.avif" type="image/avif">
<img alt="感覚する構造 後期 法隆寺から宇宙まで" height="1440" src="https://hail2u.net/img/blog/sense-of-structure-second-term-2024-06-04.jpg" width="2560">
</picture>
</figure>

<p>2023年の12月に行った<a href="https://what.warehouseofart.org/exhibitions/sense-of-structure_second-term/">展覧会の後期</a>を見に、再びWHAT MUSEUMへ行く。<a href="https://hail2u.net/blog/sense-of-structure-first-term-2023-12-13.html">前期へ行った時</a>、その直後はあまり行く気がなかったが、法隆寺の1/10模型がかっこよさそうだったので行くことにする。梅雨前ですっきりしない天気のようだが、快適そうな気温で海沿いは気持ち良いはずだ。</p>

<p>前回と同じく、横浜駅回りで品川駅から歩く。今回は運河沿いではなく、つながった<a href="https://www.city.minato.tokyo.jp/shisetsu/koen/konan/09.html">汐の公園</a>と<a href="https://www.city.minato.tokyo.jp/shisetsu/koen/konan/10.html">杜の公園</a>を通って南へ。こういういかにも作られた公園でも、都心にあるものはちょっと好きだ。</p>

<figure>
<picture>
<source srcset="/img/blog/sense-of-structure-second-term-2024-06-04-shio-no-koen.avif" type="image/avif">
<img alt="高層ビルの合間は石とコンクリートに覆われ、5mごとに大きな樹木が並ぶ" height="1440" src="https://hail2u.net/img/blog/sense-of-structure-second-term-2024-06-04-shio-no-koen.jpg" width="2560">
</picture>
<figcaption>汐の公園</figcaption>
</figure>

<p>どの駅前にも似たような公園はよくあるが、規模と予算が小さいためか、石とアスファルトで覆われた地面にまばらな植栽があるだけだ。日陰の少なさと石や囲む建物からの反射光が相まって、とても明るい。対して都心のこういった公園になると、周囲にある高いビルや豊富な植栽によって、暗すぎはしない日陰が多く作り出される。また、歩ける場所も広いわりに開けてはいないように感じ、日陰と共にそれぞれの公園独特の調子が生まれる。結果、歩いても座ってもちょうど良い心地よさ、感動はないがリラックスはできる程度の雰囲気に感じられる。</p>

<p>そのまま東へ抜け、南の天王洲橋を渡り、東の新東海橋を渡ると美術館につく。</p>

<hr>

<p>前期と違い、2Fから始まる。法隆寺の五重塔や、投入堂などの古いものから、エムウェーブ、雲の上ギャラリー、Expo 2025のリングなどの模型を30前後見ていくことになる。どれも見やすい位置に見やすい大きさで展示されており、永遠に眺めていられそうな気分になる。2Fの最後は若手の構造設計家の作品が紹介されている。特に<a href="https://www.yumomoeda.com/projects/agri-chapel/">Agri Chapel</a>(√2だ)がかっこよかったので、いつか見に行きたい。</p>

<p>1Fに移動すると、エレベーターの脇にスカイツリーの模型があった。模型と説明で、スカイツリーの底部が三角形だということを知る。前期でも見たはずなのに見逃したか、覚えていないかでひどい。残りは構造の平面展開と宇宙のあれこれだ。物をそのままの大きさで映し出す平行カメラはちょっと面白かった。宇宙の方は前期とあまり変わらない。ただただ見ていて楽しいという展覧会で、満足度は高い。ただし、学びや感動があるかと聞かれると困る。</p>

<hr>

<p>展覧会の後は、前回は定休日だった家具屋に行く。ビンテージ家具の特集で半分くらい店が埋まっており、とても楽しいが手は出ない。2階に大理石もどきで卵型の石が990円で売っていて欲しくなるが、「石と猫は拾うか貰うもの」だと思っているので買わない。</p>

<p>今回は東京モノレールで浜松町駅に出て、東京駅に向かう。モノレールの天王洲アイル駅へは、ビルの中を通り抜けると横断歩道などを渡らずにたどり着けるようだ。謎の通路や隠れた階段を通り、小さなエレベーターに乗り、空中通路を通って改札へ。東京モノレールには生まれて初めて乗った気がする。モノレールだから重心を真ん中にしたいのか、進行方向の真ん中に沿って座席があったりするのかなとか、JR東日本傘下なんだとか、考えているうちに浜松町駅に着く。</p>

<p>山手線で東京駅に向かい、昼ごはんにする。東京駅付近に来た時によく行くパニーニの店だ。これで5種類あるパニーニの3種類を食べたので、今年中には制覇できそうだ。パニーニが好きというより、フォカッチャやチャバッタが好きで食べている。東京や神奈川ではイタリア系のパン屋をまず見ないので、パニーニでしかなかなか食べられないと思う。</p>

<p>昼ごはんの後は丸の内と新宿でジーンズを探す。着ているものは股に穴が開いてしまった。普段用なので15000円くらいまでで買いたいところだが、なかなか難しいようだ。どうせ夏には着ないので、気長に探そう。別に探していた黒いシャツも見に行ったが、ちょっと起毛していて好みじゃない。収穫はあまりなかったので、帰りの電車の中でハンマースホイの画集を買ったりして物欲を満たす。</p>]]></content:encoded>
      </item>
      <item>
        <description><![CDATA[よくよく考えたつもりでESRのMagSafeモバイル・バッテリーを買ったが、返品することになってしまった。返品の直接の原因は充電が止まりがちなことと、ソニーのイヤフォンが充電できなかったことだ。ESRは新製品への切り替えを始めるのか、Amazonでクーポン込み3300円くらい(今は2500円くらいっぽい)で買え、うっかり買ってしまった。かなりうまく機能するモバイル・バッテリーのようだったが、MagSafeのモバイル・バッテリーは想定していた利用状況にハマらないものだということを学んだ。]]></description>
        <guid>https://hail2u.net/blog/finding-suitable-mobile-battery.html</guid>
        <link>https://hail2u.net/blog/finding-suitable-mobile-battery.html</link>
        <pubDate>Wed, 5 Jun 2024 20:44:27 +0900</pubDate>
        <title><![CDATA[最適なモバイル・バッテリーを求めて]]></title>
        <content:encoded><![CDATA[<p>よくよく考えたつもりで<a href="https://www.esrgear.com/products/halolock-10000mah-kickstand-wireless-power-bank/">ESRのMagSafeモバイル・バッテリー</a>を買ったが、返品することになってしまった。返品の直接の原因は充電が止まりがちなことと、ソニーのイヤフォンが充電できなかったことだ。ESRは新製品への切り替えを始めるのか、Amazonでクーポン込み3300円くらい(今は2500円くらいっぽい)で買え、うっかり買ってしまった。かなりうまく機能するモバイル・バッテリーのようだったが、MagSafeのモバイル・バッテリーは想定していた利用状況にハマらないものだということを学んだ。</p>

<p>MagSafeでスタンド付きなので、日常の充電に使いつつ、外出時に持っていくという運用を考えていた。しかし、日常と外出のどちらでも中途半端な印象に終わった。日常ではスタンド付きでパソコンの横に置きやすく、そういう点では便利だ。しかしモバイル・バッテリーであることから磁力が強めなので、取り外しに両手が必要になり、手軽さはない。外出時は7.5Wという充電速度の遅さから、着けたまま操作することになるが、さすがに10000mAh以上のものになると厚すぎる。着けて放置するならMagSafeのケーブルがない利点はほぼなくなる。整理すると以下のような条件が必要なようだ。</p>

<ol>
  <li>白かシルバー</li>
  <li>容量は15000mAh以上</li>
  <li>出力は2ポート以上</li>
  <li>パススルー充電が可能</li>
  <li>出力が15W以上のMagSafeポート、またはUSB-Cケーブル内蔵</li>
  <li>できれば
    <ol>
      <li>USB-Cポートのみ</li>
      <li>Qi2に対応</li>
    </ol>
  </li>
  <li>MagSafeの場合
    <ol>
      <li>片手で外せる程度の磁力か、滑らせられる余裕のある大きさ</li>
      <li>スタンド付き</li>
      <li>立てて置いた時に入力ポートが利用可能</li>
      <li>横向きに対応</li>
    </ol>
  </li>
</ol>

<p>多分、既存の製品としては存在しない。そうなるともはやMagSafeにこだわる必要がない。余りがちなUSB-Cケーブルの有効利用も考えて、1から4と6の1を満たす普通のモバイル・バッテリーを買って、長いケーブルで充電した方が後悔がなさそうな気配がある。</p>

<p>改めて考えてみると、いろいろな機能を兼ねたものを買ったことが間違いだったのかもしれない。ライナーが取り外し可能なコート(ライナーを外すとぶかぶかになる)とか、3wayバッグ(使わない肩紐の処理に困る)、晴雨兼用傘(裏が黒いので雨の日に真っ暗で気分が滅入る)、トースター機能付き電子レンジ(べしゃっとした感じに焼きあがる)、加湿空気清浄機(掃除が大変)などを今まで買ってきて、後悔し続けていることをすっかり忘れていた。こういう多機能兼用で後悔していないものは乾燥機能付き洗濯機とSurface Proくらいだと思う。</p>]]></content:encoded>
      </item>
  </channel>
</rss>
