<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>ひげで</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2017-12-08</time></p>

    <h1>ひげで</h1>

    <p>色々整理している過程でmustacheでHTMLとRSS、そしてSitemapsを生成するようにした。記事自体も更新や再生成する時はmustache経由で行うようにし、再構築(昔の流行語だ)がスムーズに行えるようになった。</p>

<p>1スレッドでも並列生成すれば20秒弱で3000ファイル近く処理できることは分かった。しかしそのタスクの完了には1分半以上かかる。メモリーをザクザク使い、ファイルをモリモリ吐き出すため、Windows Defenderが忙しくなってしまうからだ。相性が悪い。</p>

<p>こうした理由はCSSやJavaScriptをインライン化したため、短時間で一気に再構築を完了させる必要が出てきたためだ。インライン化についての感想は別の記事で書くこととする。</p>

<hr>

<p>もう1ステップくらいでBlosxomを捨てられそうだが、たった1ファイルを静的生成するだけなどと考えると捨てなくても良いかな……と落ち着く。ただ単に捨てたくないだけなのに、そのことに何か理由をひねり出そうとしている。</p>
  </body>
</html>
