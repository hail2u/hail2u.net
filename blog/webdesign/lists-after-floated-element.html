<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="same-origin" name="view-transition">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>フロートした要素に続くリスト</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2011-12-21</time></p>

    <h1>フロートした要素に続くリスト</h1>

    <p>通常フロートした要素とデフォルトの文書フローで配置された要素は重なります。<a href="http://www.w3.org/TR/CSS2/visuren.html#floats">CSS 2.1仕様書のフロートの解説</a>にある図Dがその例です。なので、通常フロートした要素に続くリストはそのブレット(や数字等)がフロートした要素の下に隠れてしまいます。この挙動には結構困らされることが多いですが、実は<code>overflow: auto</code>とすると簡単に回避できます。</p>

<p>Demo: <a href="/test/331.html"><code>ul</code> after floated element</a></p>

<p>デモのようにリストに<code>overflow: auto</code>するだけで、キレイにリストが配置されるようになります。<code>overflow: auto</code>を使った場合と使わなかった場合でどう重なりに違いが出るかわかるように、<code>outline</code>プロパティーでピンクの線を引いておきました。</p>

<p>これはブラウザの挙動がたまたまそうなったということではなく、実にさり気なくCSS 2.1仕様書にも記述があります。</p>

<blockquote>
<p>The border box of a table, a block-level replaced element, or an element in the normal flow that establishes a new block formatting context (such as an element with 'overflow' other than 'visible') must not overlap the margin box of any floats in the same block formatting context as the element itself.</p>
</blockquote>

<p>この一文がそれで、荒く訳すと<code>overflow</code>プロパティーで<code>visible</code>(デフォルト値)以外を指定されていた場合は重なってはいけないと規定されています。なので<code>overflow: auto</code>など<code>visible</code>以外にするとうまいことリストが配置されるようになるわけです。</p>

<p><code>overflow</code>プロパティーをいじっているので、それに影響を受ける<code>white-space</code>プロパティー等との兼ね合いは意識しないとなりませんが、覚えておくとごく稀に便利です。</p>
  </body>
</html>
