<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Google Analyticsの削除</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2015-12-27</time></p>

    <h1>Google Analyticsの削除</h1>

    <p>やってみるかという気になったので、このウェブサイト他から<a href="https://analytics.google.com/">Google Analytics</a>のコードを削除した。今までも非同期にちょこっと実行させていただけなので、特に変わった様子はない。読み込まれるリソースが減った分も大勢に影響はないようだ。Googleのレスポンス力はすごいな、と素直に感じる。</p>

<p>Analyticsを削除すると問題があることがひとつある。それはGoogleにおけるウェブサイトの認証だ。</p>

<p>例えばSearch Consoleでは手軽なのでAnalyticsを使って所有権を確認させていることも多いだろう。Analytcisを削除した後には所有権の再確認ができなくなる。このままでもSearch Consoleはそのまま使うことができるが、何かあった時に面倒なことになりかねない。</p>

<p>HTMLへの<code>meta</code>要素の追加やHTMLファイルのアップロードというのも手軽だが、DNSレコードを使って認証するのが良いと思う。プライベートに必要なことなので、既にあるものを再利用できるならともかく、HTMLや構成をいじる必要はないだろう。</p>

<hr>

<p>ここではログ解析があまり重要ではない個人のウェブサイトなので代替を用意せずにただ削除したが、実際には何かしらの方法で考える必要があるだろう。単にブロックされやすいからという理由ならば別のサービス、例えば<a href="https://mixpanel.com/">Mixpanel</a>へ移行するだけで良いかもしれない(時間の問題だと思うが)。ウェブページでの行動までもトラッキングする必要はないというならば、サーバーログの解析に立ち戻るのが良いだろう。</p>

<p>今後はモジュール化されたユーザー行動解析機能をそれぞれが独自に追加していくということになりそうだ。既にそういった単機能で組み込みやすい解析スクリプトは散見される。ただしそれらの解析結果をまとめるツールが少し不足しているため、来年は「JSON投げたらグラフになるぞ」といったそのものは何もしないウェブサービスが注目されそうだ。</p>
  </body>
</html>
