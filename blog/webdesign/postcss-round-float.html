<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>postcss-round-float</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2016-05-27</time></p>

    <h1>postcss-round-float</h1>

    <p>多くのCSSプリプロセッサーは四則演算機能を持っている。その利用の結果、CSSファイルにはほとんど意味のない桁数の小数が散在することになる。<a href="https://github.com/hail2u/postcss-round-float">postcss-round-float</a>パッケージはそういった四捨五入を行うPostCSSプラグインだ。</p>

<p>今のところ定義の値やメディア・クエリーに出てくる小数のみを処理する。デフォルトでは3桁に四捨五入する。つまり、</p>

<pre><code class="language-css">@media (min-width: 33.33333rem) {
  .foo {
    width: 16.66667rem;
  }
}</code></pre>

<p>は、</p>

<pre><code class="language-css">@media (min-width: 33.333rem) {
  .foo {
    width: 16.667rem;
  }
}</code></pre>

<p>と、なる。</p>

<hr>

<p>もちろんCSSプリプロセッサーには小数の四捨五入を行うオプションがある。しかしこういった最適化(の中でも最小化に近い)に属する処理は、CSSファイルの作成に必須ではないと考えられる。ならばCSSプリプロセッサーなどに任せる必要はなく、配信するCSSの最適化プロセスで行えば十分だろう。そうしてやることでいずれ決別するであろうCSSプリプロセッサーへの依存を少し減らせるはずだ。</p>
  </body>
</html>
