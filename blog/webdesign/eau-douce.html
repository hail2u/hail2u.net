<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="same-origin" name="view-transition">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Eau Douce</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2015-03-11</time></p>

    <h1>Eau Douce</h1>

    <figure>
<img alt="Eau Douce。" height="627" src="/img/blog/eau-douce.png" width="1200">
</figure>

<p>Source Sans Proに飽きてきたので、あまり使われてなさそうな、はっきり言えばGoogle Fontsには置いていない、あまり主張のないサンセリフのタイプフェイスを物色していた。最終的に前にも使おうかなと考えたことのある<a href="http://www.yoworks.com/eau_douce/">Eau Douce</a>にした。おーどぅーす。</p>

<p>字形については無個性という謳い文句の通り、主張は少なくどんな文章にも悪くなさそうな印象だ。ウェイトも6つあり、このタイプフェイスひとつで幅広い要望に答えることができそうだ。残念ながら斜体はないが、日本語のウェブサイトの欧文に使うことを前提にするのなら致命的な欠点ではない。</p>

<hr>

<pre><code class="language-css">@font-face {
  font-family: &apos;Eau Douce&apos;;
  font-style: normal;
  font-weight: 400;
  src: local(&apos;Eau Douce&apos;),
    url(&apos;assets/fonts/eau-douce/r.woff2&apos;) format(&apos;woff2&apos;),
    url(&apos;assets/fonts/eau-douce/r.woff&apos;) format(&apos;woff&apos;);
}</code></pre>

<p>フォントの読み込みは少し前に変えた通り、続けてCSSのみで行うことにした。OpenTypeフォーマットやSVGフォントのファイルを用意してまで幅広い環境サポートするのは馬鹿らしいと考えているが、WOFF2での配信は試してみたかったので、WOFFをメインに据えつつ、WOFF2を優先するようにもした。</p>

<table>
<thead>
<tr>
<th style="text-align:right">オリジナル</th>
<th style="text-align:right">WOFF</th>
<th style="text-align:right">WOFF2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">17,768 バイト</td>
<td style="text-align:right">23,824 バイト</td>
<td style="text-align:right">18,084 バイト</td>
</tr>
</tbody>
</table>

<p>WOFFに比べてWOFF2ではファイルサイズがちゃんと減っているものの、どちらもオリジナルよりも増えてしまった。<a href="http://www.freetype.org/ttfautohint/">ttfautohint</a>を通す以外には特に何も手を入れなかったので、多分そのせいだろう。もうちょっと色々調整してやらないとうまく小さくできなさそうだ。できれば15KB以下にはしたい。</p>

<hr>

<p>よく使われているタイプフェイスは時々嫌になってしまう。Source Sans Proはもちろん、Open SansやRoboto、そして商用のものでもProxima Novaなどは使われ過ぎててちょっと気になる。これらタイプフェイス自体が悪いわけでは決してない、むしろ優れているからこそ多くのウェブサイトで使われているわけだが、見慣れてしまうとそれほど良く見えてこなくなってしまう。</p>

<p>メジャーなだけあって、変なウェブサイトで使われているところを見てしまうこともそれなりにある。一度や二度なら「しょうがないか」と思えるが、四度も五度も見てしまうとやはり「うーん」となってしまう。</p>

<p>こういう感覚はまったく信用してはいけないのだが、どうしても自分だけで客観視して判断するのは難しい。しかし気になることをそのまま放置するのももやもやするだけなので、このウェブサイト程度の規模ならスパッと変えてしまっても良いだろう。継続のためには何よりもまず自分が快適と感じるウェブサイトである必要がある。</p>

<section>
<h2>追記</h2>

<p>ISO-8859-1あたりまでサブセット化したり、不要そうなOpenType機能を削除したりすることによって多少サイズを抑えることに成功した。</p>

<table>
<thead>
<tr>
<th>タイプ</th>
<th style="text-align:right">ファイルサイズ</th>
<th style="text-align:right">増減</th>
</tr>
</thead>
<tbody>
<tr>
<th>オリジナル</th>
<td style="text-align:right">17,768 バイト</td>
<td style="text-align:right">-</td>
</tr>
<tr>
<th>WOFF</th>
<td style="text-align:right">23,824 バイト</td>
<td style="text-align:right">+34%</td>
</tr>
<tr>
<th>WOFF(最適化)</th>
<td style="text-align:right">20,272 バイト</td>
<td style="text-align:right">+14%</td>
</tr>
<tr>
<th>WOFF2</th>
<td style="text-align:right">18,084 バイト</td>
<td style="text-align:right">+1%</td>
</tr>
<tr>
<th>WOFF2(最適化)</th>
<td style="text-align:right">15,848 バイト</td>
<td style="text-align:right">-11%</td>
</tr>
</tbody>
</table>

<p>ヒンティングの調整を行わないと10KB程度までサイズを減らすことが出来た。やはりttfautohintによりかなりファイルサイズが肥大化するようだ。つまりttfautohintをかけた場合、元のOTFファイルよりもサイズが増えなかったら御の字程度に考えるのが良いと言える。</p>
</section>
  </body>
</html>
