<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width" name="viewport">

    <title>CSSグラデーションによるリンクの下線</title>

    <link title="ウェブサイト全体のRSS" href="/feed" rel="alternate" type="application/rss+xml">
    <link title="記事だけのRSS" href="/blog/feed" rel="alternate" type="application/rss+xml">
    
    
    
    <link href="/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="mailto:hail2u@gmail.com" rel="author">
    <link href="https://hail2u.net/blog/webdesign/css-gradient-link-underline.html" rel="canonical">
    <meta content="CSSグラデーションを使った太くならないリンクの下線は、Mediumの詳細な記事やterkel.jpのその解説とも言える記事を見てそのうちやってみようと思っていた。フォントサイズが大きい時に下線が2pxや場合によっては4pxくらいで引かれるようになるのは見た目に結構な負荷を与えるので、常に1pxで引きたいといった希望を持ってる人は多いはずだ。" name="description">
    <link href="/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="https://creativecommons.org/licenses/by/4.0/" rel="license">
    <link href="https://duckduckgo.com/?q=site%3Ahail2u.net" rel="search">

    <link href="/css/print.css?v=9.33.1" media="only print" rel="stylesheet">
    <link href="/css/index.css?v=9.33.1" media="only screen" rel="stylesheet">
  </head>

  <body>

      <nav id="top">
        <p class="logo"><a href="/"><span aria-label="ホームへ戻る">←</span></a></p>
      </nav>

      <header class="page-header">
          <p class="date"><time datetime="2014-08-28T11:51:26+09:00">2014年8月28日</time></p>

        <h1><em>CSSグラデーションによるリンクの下線</em></h1>
      </header>

    <main>
      <p>CSSグラデーションを使った太くならないリンクの下線は、<a href="https://medium.com/designing-medium/crafting-link-underlines-on-medium-7c03a9274f9">Mediumの詳細な記事</a>や<a href="http://terkel.jp/archives/2014/04/link-underline/">terkel.jpのその解説とも言える記事</a>を見てそのうちやってみようと思っていた。フォントサイズが大きい時に下線が<code>2px</code>や場合によっては<code>4px</code>くらいで引かれるようになるのは見た目に結構な負荷を与えるので、常に<code>1px</code>で引きたいといった希望を持ってる人は多いはずだ。</p>

<p>このウェブサイトでは以下の要件を満たすような感じで実装した。</p>

<ul>
<li>常に<code>1px</code>で下線を引く</li>
<li>文字サイズに依存しない</li>
<li>なるべくシンプルな実装</li>
</ul>

<pre><code class="language-css">a {
  background-image: linear-gradient(
    transparent 0,
    transparent 50%,
    rgb(91, 172, 208) 50%
  );
  background-position: 0 1.1em;
  background-repeat: repeat-x;
  background-size: 2px 2px;
  text-decoration: none;
}</code></pre>

<p><code>1px</code>の下線にするには<code>2px</code>の背景画像の半分だけ塗るCSSグラデーションを作る。メディア・クエリーで分岐する必要はない(と思う)。下線の位置はフォント・サイズに合わせて可変になるように<code>em</code>単位を使って指定した。フォントとそのグリフの高さで多少のずれが起こるので要調整だが、だいたい1.05から1.15emだと思われる。</p>

<hr>

<p>この記事を書いた時点では、上記スタイルに加えて<code>color</code>を<code>inherit</code>にしているので、下線のみ色が変わる。この形だと読みやすさそのものは向上するが、リンクの視認性はかなり下がるような印象も持った。<code>text-decoration-color</code>プロパティーでも同じことが言えると思うので、このプロパティーが気軽に使えるようになってもこういった点には注意を払った方が良いだろう。</p>

<p>CSSグラデーションを使うのは、フォントサイズが大きくなるにつれて下線が太くなるという<a href="http://www.w3.org/TR/css-text-decor-3/"><code>text-decoration-*</code>プロパティー</a>では解決できない点への解だ。下線の太さはその色の印象を強めるということにもつながるので、倍の太さになると倍以上の印象をあたえると考えた方が良い。</p>

<p>下線が太くなるのはフォントに依存するが、概ね<code>24px</code>前後で太くなる。昨今は<code>24px</code>どころか<code>40px</code>かそれ以上の大きさで文字を表示することもあるので、そういったサイズに<code>text-decoration</code>プロパティーで下線を引いている場合は、こういったテクニックを利用して下線の、延いてはリンク全体の印象を和らげる必要もあるだろう。</p>
    </main>

    <footer class="page-footer">
      <hr>

        <p>このウェブサイトは<a href="mailto:hail2u@gmail.com">ながしまきょう</a>が<a title="Creative Commons (表示)" href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a>の下で作成、公開、そして更新しています。更新情報は<a href="/feed" type="application/rss+xml">RSS</a> (<a href="/blog/feed" type="application/rss+xml">記事だけのRSS</a>)または<a href="https://x.com/hail2u_">X</a>で購読できます。その他、わからないことは<a href="https://hail2u.net/about/">もう少し詳しい情報</a>を参照してください。</p>

      <p><a href="#top"><span aria-hidden="true">↑ </span>一番上</a></p>
    </footer>
  </body>
</html>
