<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>gen_rss.cgi更新</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2003-10-20</time></p>

    <h1>gen_rss.cgi更新</h1>

    <p>眠かったのですけど、布団に入ったところで、gen_rss.cgiで出力されるRSSファイルに、<code>content:encoded</code>付けようと考えてたことを思い出したので、速攻で付ける。</p>
<p>gen_rss.cgiは、長年愛用してる<a href="http://pt.imaginet.ne.jp/%7Enobu/" title="n+">Mimicboard2</a>のログ・ファイルからRSSを捏造するCGIスクリプトです。単にRSSリーダーで自分の掲示板をチェックできると楽だと思って作成しました。</p>
<p>一応<a href="/gen_rss.txt" title="gen_rss.cgiのソース">ソース</a>も晒しておこうとか。すげー投げやりなスクリプトで<del>悪かったな</del><ins>スミマセン</ins>。</p>
<p>うちのBBSの場合はtitleとか記入させてないので、「○○さんの投稿」とかかなり手抜きなものを、各itemのtitleにやってます。</p>
<pre><code class="language-perl">$value = (split(/,/, $temp))[1] . &quot;さんの投稿&quot;;</code></pre>
<p>と、いうところ辺りを適当に変えてやればtitleにも対応できます。以下のようにすれば多分OK。</p>
<pre><code class="language-perl">$value = (split(/,/, $temp))[4];</code></pre>
<p>あ、Mimicboard2はあるIDの投稿のみ表示とか出来ない(と、思う)ので、あらかじめスキン・ファイルで各投稿へジャンプできるようなアンカーをセットしておく必要がありますね。あんまり融通が利かないスクリプトで<del>悪かったな</del><ins>スミマセン</ins>。</p>
<p>Mimic Board2で投稿をログ・ファイルに書き込む時に静的にRSSファイルを出力とかで良いはずなのに、なぜスタンド・アローンなCGIスクリプトにしたかというのは、ログを削除した時とかの処理も全部書かなきゃならないあたりが面倒とかいうダメダメな理由なわけで・・・。凝り性かと思いきや肝心なところで手抜きする奴で<del>悪かったな</del><ins>スミマセン</ins>。</p>
<p>「どうしようもない弟を持ってる友達がいて、ファミコンで遊んでいる時にクリア目前にその弟が電源コードにつまずいて一同呆然」(IMのログから一部改変して抜粋)とかを何度も経験しているとshinくんがおっしゃっているのですけど、よくあることなんですか？　確かに、そういう類いの話は聞きますけど、今までの経験では全てネタでした。実際にそういう目にあったことのある人は(shinくん以外に)いますか？　てか、shinくんは俺を騙そうとしてる？</p>
<p>などと全然関係の無いことも書きつつ就寝。</p>
  </body>
</html>
