<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>雑記記事からarticle要素を削除</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2020-05-02</time></p>

    <h1>雑記記事からarticle要素を削除</h1>

    <p>雑記記事(このページとか)で<code>article</code>要素を使わないようにした。他のインデックス・ページでタグラインが入っているところに雑記記事のタイトルが入り、<code>main</code>要素に<code>itemprop=articleBody</code>を割り当て、その直下に記事本文がくる。</p>

<p>多くのブログでは記事ページだと、最重要な見出しがロゴだったりする。そこはやはり記事のタイトルであった方がよいし、あるべきだと思う。それを改善するために<a href="/blog/version-nine-point-three-point-two.html">トリッキーな構造</a>にしたけど、これはこれでセクショニング・ルートが見出しなしになってしまう。</p>

<ul>
<li><code>body</code>要素
<ul>
<li><code>header</code>要素
<ul>
<li>ナビゲーション
<ul>
<li>ロゴ</li>
<li>各ページへのメニュー</li>
</ul>
</li>
</ul>
</li>
<li><code>main</code>要素
<ul>
<li><code>article</code>要素
<ul>
<li><code>header</code>要素
<ul>
<li>記事投稿日時</li>
<li>記事タイトル</li>
</ul>
</li>
<li><code>itemprop=articleBody</code>
<ul>
<li>記事本文</li>
</ul>
</li>
<li>前の記事へのナビゲーション</li>
</ul>
</li>
</ul>
</li>
<li><code>footer</code>要素
<ul>
<li>雑多なリンク</li>
<li>名前</li>
</ul>
</li>
</ul>
</li>
</ul>

<p>そこで記事のタイトルをヘッダーに持っていった。そうなると、今度は<code>article</code>要素が見出しなしになるし、<code>main</code>要素以下にセクションがひとつだけにもなるので、えいやっと消した。</p>

<ul>
<li><code>body</code>要素
<ul>
<li><code>header</code>要素
<ul>
<li>記事投稿日時</li>
<li>記事タイトル</li>
<li>ナビゲーション
<ul>
<li>ロゴ</li>
<li>各ページへのメニュー</li>
</ul>
</li>
</ul>
</li>
<li><code>main</code>要素
<ul>
<li>記事本文</li>
<li>前の記事へのナビゲーション</li>
</ul>
</li>
<li><code>footer</code>要素
<ul>
<li>雑多なリンク</li>
<li>名前</li>
</ul>
</li>
</ul>
</li>
</ul>

<p><code>article</code>要素だけでなく、記事タイトルなどをまとめて格納していた<code>header</code>要素や<code>itemprop=articleBody</code>のためだけの<code>div</code>要素もなくなる。ほぼ独立したウェブページとしての構造になって、異様にすっきりとした。<code>body</code>要素以下をどこかの<code>section</code>要素にそのまま持って行ってもほぼ通用する。</p>

<hr>

<p>このあたりの文書アウトラインを考えていたら、<code>header</code>要素の先頭に<code>nav</code>要素があって、その後に<code>h1</code>要素が来ると、仕様で言われる(Untitled Page)とかバリデーターで言われる[body element with no heading]になってしまうことを、突然、思い出した。全ページ共通の問題だった。ここら辺もちゃんと直した(つもり)。見た目の順序はFlexboxに頼っている。</p>

<p>これでv9.9系ということになる。他にはGoogle Closure CompilerからBabelになったりした。別にちょっと書く。またCNAMEファイルやrobots.txtファイルもMustache経由で生成するようにしたりも。ドメインを変える予定はないけど。</p>
  </body>
</html>
