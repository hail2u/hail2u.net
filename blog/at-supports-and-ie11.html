<!DOCTYPE html><html lang="ja"><head><title>@supportsとIE11</title><p><time>2017-06-08</time></p><h1>@supportsとIE11</h1>

<p>Internet Explorer 11以下では<a href="http://www.w3.org/TR/css3-conditional/#at-supports"><code>@supports</code></a>がサポートされていない。そのおかげで実装ベースで(CSSハックなどというものなしに)安全にCSSの新機能を試せるようになった。しかしそうなるとIE11などというもののために大量の<code>@supports</code>が出てくることになり、精神衛生上良くない。実装がある方を優先させCSS全体を適当な<code>@supports</code>で括ってしまえば良さそうだ。</p>

<p>View Demo: <a href="/test/675.html">Ban &lt;=IE11 with @supports</a></p>

<p>デモの段落は<code>@supports</code>をサポートしている安定ブラウザーでは緑になり、IE11ではちゃんと赤になる。不明なAt規則とその子は無視されるようになっていることが確認できる。CSS仕様でもそうだが、IE11以下を含めおおよそすべてのブラウザーでこういう実装になっているはずだ。</p>

<p>CSS全体を括るのは雑過ぎるので、実際にはFlexboxやGridを使うレイアウトをうまくまとめて<code>@supports</code>で括ることになるだろう。安定ブラウザーで実装の揃ったものを逃がす場として<code>@supports</code>をざっくりと使うわけだ。実装が揃っておらず、切り分けないと致命的なもの(例えば<code>text-decoration-style</code>プロパティー)は引き続き<code>@supports</code>をそれぞれで書くべきだろう。</p>

<p>プログレッシブ・エンハンスメントのベースラインを上げ、それに応じてIE11以下を必要最小限にする時にうまく使おうという話だ。それ以上でもそれ以下でもない。</p>

<hr>

<p><code>@supports</code>をサポートしているかどうか調べるためのクエリーは、多分<code>top: 0</code>が最も短い。より短いものを知っている・見つけた人はコッソリ教えて欲しい。</p>
