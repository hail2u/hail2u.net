<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>フォロー中を参照ページに追加</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2020-04-29</time></p>

    <h1>フォロー中を参照ページに追加</h1>

    <p>Blogrollのようなものを作るだけだったのに、作業がとりとめなく広がってしまった。一時、こっちじゃない方のドメインで公開したけど、あそこではないような気がしたので、まずは<a href="/links/#followings">参照ページの一番最後</a>にずらっと置いた。並び順はHTMLが生成されるたびにシャッフルされる。</p>

<p><a href="/mysubscriptions.opml">フィードの購読リスト(OPMLファイル)</a>も更新した。フィードが消えていたり、HTTPSになっていたり、タイトルが変わっていたり、FeedBurnerをやめていたり、または使い始めていたり、世界は変わっている。含まれている205のウェブサイトはちゃんとしている。30くらい更新が止まっていたけど。</p>

<p>データの管理はJSONで行い、ターミナルから追加できるようにした。URLを渡すだけで、タイトルを抽出して、フィードを探すようにしようとしたけど、うまく書けなかった。HTMLパーサーが落ちたり、タイトルにやたら長い副題がついていたり、<code>title</code>要素がなかったり、<a href="http://www.rssboard.org/rss-autodiscovery">RSS Autodiscovery</a>がなかったり。4割くらいの確率で失敗するので、手作業で探した方が速い。</p>

<hr>

<p>一行にしただけのCSSは気長に直す。でも、ファビコンを追加するくらいしか改善の余地がなさそうな気もしている。</p>
  </body>
</html>
