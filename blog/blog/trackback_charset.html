<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="width=device-width" name="viewport">

    <title>TrackBackの文字コード</title>

    <link title="ウェブサイト全体のRSS" href="/feed" rel="alternate" type="application/rss+xml">
    <link title="記事だけのRSS" href="/blog/feed" rel="alternate" type="application/rss+xml">
    
    
    
    <link href="/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="mailto:hail2u@gmail.com" rel="author">
    <link href="https://hail2u.net/blog/blog/trackback_charset.html" rel="canonical">
    <meta content="いろいろあったはずですが、それはもう遠い昔の話。僕の中では勝手に「デフォルトはUTF-8。それ以外の場合はcharsetパラメータを追加。」とかいう結論になってます。blosxom starter kitで利用しているwikieditish+bookmarkletでは、UTF-8決め打ちなんですね(知らなかったのかよ)。UnknownPlace.のwikieditishプラグインでのトラックバック送信と文字コードというエントリで学ぶ。" name="description">
    <link href="/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="https://creativecommons.org/licenses/by/4.0/" rel="license">
    <link href="https://duckduckgo.com/?q=site%3Ahail2u.net" rel="search">

    <link href="/css/print.css?v=9.32.5" media="only print" rel="stylesheet">
    <link href="/css/index.css?v=9.32.5" media="only screen" rel="stylesheet">
  </head>

  <body>

      <nav id="top">
        <p class="logo"><a href="/"><span aria-label="ホームへ戻る">←</span></a></p>
      </nav>

      <header class="page-header">
          <p class="date"><time datetime="2004-04-25T18:43:40+09:00">2004年4月25日</time></p>

        <h1><em>TrackBackの文字コード</em></h1>
      </header>

    <main>
      <p>いろいろあったはずですが、それはもう遠い昔の話。僕の中では勝手に「デフォルトはUTF-8。それ以外の場合はcharsetパラメータを追加。」とかいう結論になってます。<a href="/archives/bsk.html" title="hail2u.net - Archives - blosxom starter kit">blosxom starter kit</a>で利用している<a href="http://blog.bulknews.net/mt/archives/000355.html" title="blog.bulknews.net: blosxom: wikieditish + bookmarklet">wikieditish+bookmarklet</a>では、UTF-8決め打ちなんですね(知らなかったのかよ)。UnknownPlace.の<a href="http://www.unknownplace.org/blosxom/blog/blosxom/223.html" title="UnknownPlace. - wikieditishプラグインでのトラックバック送信と文字コード">wikieditishプラグインでのトラックバック送信と文字コード</a>というエントリで学ぶ。</p>
<p>blosxom starter kitではUTF-8前提なので、何も問題ありません。</p>
<p>とか言ってみる。</p>
<p>まぁ何かとまずいので文字コード指定のものはまとめてグローバル変数にしようかなとか今さら思ってみたりする。でも、blosxom 3.0はもうすぐ(05/01予定)だし、やる気起きねーな！　それにグロバール変数にしたところで手間はたいして変わらないんですよね。flavourファイル自体の文字コードを変換してやらなければならないのは同じだったりとか。んー。利点はかなりのものだとは思うんですけど。</p>
<p>とりあえずはUTF-8以外のの文字コードでblosxom starter kitを運用している方は、wikieditishの162行目あたりにある、</p>
<pre><code class="language-perl">charset =&gt; &apos;utf-8&apos;,</code></pre>
<p>というのを使用している文字コードに合わせて書き換えておいてください。</p>
<p>EUC-JPなら、</p>
<pre><code class="language-perl">charset =&gt; &apos;euc-jp&apos;,</code></pre>
<p>Shift_JISなら、</p>
<pre><code class="language-perl">charset =&gt; &apos;shift_jis&apos;,</code></pre>
<p>です(多分)。wikieditish+bookmarkletでTrackBackを送信していない人は書き換える必要はありませんが、ゴチャゴチャ言わずに書き換え<del>ろ</del><ins>てください、お願いします</ins>。</p>
<section>
<h2>追記@2004/06/29</h2>
<p>送信先のページの文字コードを調べて、それで送ってやるというアプローチはなかなか良いかもと思った。TrackBack Auto-discovery経由でゴニョゴニョやっている場合は、その過程でGETしているので、レスポンス・ヘッダか<code>meta</code>要素から文字コード拾えるので、コストかからないし。</p>
<p>レスポンス・ヘッダか<code>meta</code>要素から文字コード拾えなかった場合がメンドウか・・・。</p>
</section>
    </main>

    <footer class="page-footer">
      <hr>

        <p>このウェブサイトは<a href="mailto:hail2u@gmail.com">ながしまきょう</a>が<a title="Creative Commons (表示)" href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a>の下で作成、公開、そして更新しています。更新情報は<a href="/feed" type="application/rss+xml">RSS</a> (<a href="/blog/feed" type="application/rss+xml">記事だけのRSS</a>)または<a href="https://x.com/hail2u_">X</a>で購読できます。その他、わからないことは<a href="https://hail2u.net/about/">もう少し詳しい情報</a>を参照してください。</p>

      <p><a href="#top"><span aria-hidden="true">↑ </span>一番上</a></p>
    </footer>
  </body>
</html>
