<!DOCTYPE html><html lang="ja"><head><title>node-git-release v1.1.2</title><p><time>2015-02-07</time></p><h1>node-git-release v1.1.2</h1>

<p><a href="https://github.com/hail2u/node-git-release">node-git-release</a>をio.js v1.1.0を要件にして、<code>child_process.spawnSync()</code>を使って書き直した。使い方をうまく考えつかなくて、あんまりきれいにならない。asyncパッケージを使った方がスッキリ見えるのは慣れの問題だろうか。とか下書きしていたらNode.js v0.12.0が出て、こちらでも<code>*Sync()</code>がサポートされ、動くようになったようだ(試してない)。</p>

<p><code>package.json</code>でio.jsの特定バージョンを要件にしたい場合、<code>engines</code>フィールドでは<code>iojs</code>というキーで指定するようだ。npmの公式ドキュメントでは特に触れられていないが、Herokuでは既にこれを見て実装されているという話だった。</p>

<pre><code class="language-javascript">{
  &quot;engines&quot;: {
    &quot;iojs&quot;: &quot;&gt;=v1.1.0&quot;
  }
}</code></pre>

<p>当然ながら実行をブロックしてくれるわけではないので、気休め程度と言って良い。他、この<code>engines</code>フィールドでio.js v1.1.0<em>または</em>Node.js v0.12.0という要件にしたい場合の書き方がわからないという問題もあった。配列で書くしかないような気がするが、解釈できるのだろうか。色々想定されていなさそうなフィールドなので、Herokuで明示的にio.jsを使いたいという場合を除いて指定しない方が良さそうだ。</p>

<hr>

<p>WindowsのGitがアレでアレなので、いまだ<code>npm publish</code>することができない。一生無理そう。</p>
