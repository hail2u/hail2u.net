<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta content="light dark" name="color-scheme">
    <meta content="same-origin" name="view-transition">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>:not(#not) :not(#not) p</title>

    <style>
      body {
        font-family: sans-serif;
        font-size: 112.5%;
        margin-block-end: 25svh;
      }

      pre {
        white-space: pre-wrap;
      }

      figure {
        margin-inline: 0;
      }

      img,
      svg {
        block-size: auto;
        max-inline-size: 100%;
      }
    </style>
  </head>

  <body>
    <p><time>2021-03-22</time></p>

    <h1>:not(#not) :not(#not) p</h1>

    <p>コーディング規約で<code>!important</code>を禁止されているプロジェクトで、それらしきものを実現しようと考えている。最終的に<code>:not(#not) :not(#not) p</code>というセレクターをひねり出した。ウェブページでは、ブラウザーが<code>html</code>と<code>body</code>要素を補完するので、すべての<code>p</code>要素に必ずマッチする。そして、詳細度が<code>2,0,1</code>と、かなり高くなるため、ルールセットが<code>!important</code>にかなり近い強さになる。</p>

<p><code>:not(#not)</code>はいくつでも書ける。しかし、補完される2つの要素分以外は、HTMLのツリー構造に依存するので、注意が必要だ。セレクターのため、ブロック(ルールセット)が明示的に分かれ、追加と削除が明確な分、<code>!important</code>よりも作業しやすい。<code>:not()</code>疑似クラスの基本サポートはかなり古い(10年以上)ため、そういう点でも問題はない。</p>

<p>何かおかしいところを直すために一時的に使い、根本的に解決出来たら消す用途に使おうと思っている。ほとんどの人が見たことがないので、かなり書きづらい。こっそり書いたが、まだ見つかっていない。</p>
  </body>
</html>
