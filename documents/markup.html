<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">

    <title>“マークアップ”するということ ～ HTML5勧告に寄せて ～</title>

    <link rel="stylesheet" href="/styles/documents.min.css">
  </head>
  <body>
    <h1>“マークアップ”するということ ～ HTML5勧告に寄せて ～</h1>

    <p>Published on <time datetime="2014-12-27T21:02:53+09:00">2014/12/27</time>, under <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC</a>.</p>

    <p>HTMLを適切な要素を使って書いていくことは実はそれほど難しくはない。しかし過剰に要素を使わずに、かつスタイリングすることも意識して、と適切に“マークアップ”するのはなかなかの修練を必要とする。いったい“マークアップ”するということはどういうことなのだろうか、そしてどのような思考の元に行えば良いのだろうか。</p>

    <ul>
      <li><a href="#html5%E3%81%A7%E3%81%AE%E5%A4%89%E5%8C%96">HTML5での変化</a></li>
      <li><a href="#%E8%91%97%E4%BD%9C%E6%A8%A9%E8%A1%A8%E7%A4%BA%E3%81%AE%E3%83%9E%E3%83%BC%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97">著作権表示のマークアップ</a>
        <ul>
          <li><a href="#small%E8%A6%81%E7%B4%A0">small要素</a></li>
          <li><a href="#footer%E8%A6%81%E7%B4%A0%E3%81%A8small%E8%A6%81%E7%B4%A0">footer要素とsmall要素</a></li>
          <li><a href="#p%E8%A6%81%E7%B4%A0%E3%81%A8div%E8%A6%81%E7%B4%A0">p要素とdiv要素</a></li>
          <li><a href="#footer%E8%A6%81%E7%B4%A0%E3%81%A8p%E8%A6%81%E7%B4%A0">footer要素とp要素</a></li>
          <li><a href="#%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AA%E3%83%B3%E3%82%B0%E3%81%A8%E3%81%AE%E5%85%BC%E3%81%AD%E5%90%88%E3%81%84">スタイリングとの兼ね合い</a></li>
        </ul>
      </li>
      <li><a href="#%E3%83%9E%E3%83%BC%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%81%99%E3%82%8B%E3%81%A8%E3%81%84%E3%81%86%E3%81%93%E3%81%A8">マークアップするということ</a></li>
    </ul>

    <h2 id="html5での変化">HTML5での変化</h2>

    <p>コンテンツに則した素直な形でマークアップできること。</p>

    <p>HTML5で変わることや変わったことは多くあるが、それらをおおまかに俯瞰するとこのような言葉に集約できる。そのために様々な要素や属性が追加され、既存の実装をなるべく壊さない形で要素の意味に変更が加えられた。これらの変化はHTML 4.01では制作者やブラウザーによる拡大解釈なしでは成し得なかったセマンティクスを、HTML文書が素直なマークアップのみで手に入れることができるということを意味する。</p>

    <p>しかしコンテンツに則した素直なマークアップが制作者達にも素直に受け入れられるものかというと必ずしもそうではない。</p>

    <p>そういった仕様の目指すものと制作者のイメージとのギャップを埋めるために仕様には豊富な例示が用意されている。それらにより「こうならばこう」という指針が定められることとなり、こと一般的な文章においてはどのようにマークアップされると適切なのかは確定したと言って良いだろう。</p>

    <p>一部、<a href="http://www.w3.org/TR/html5/sections.html#headings-and-sections">小見出し</a>や<a href="http://www.w3.org/TR/html5/grouping-content.html#the-blockquote-element"><code>blockquote</code>要素の引用元</a>など、仕様に関わる人々の間でも一致をみないものはある。それでもHTML5仕様そのものにおいてはマークアップの仕方が明示されているので、それに従うのみで良く、大きな問題ではないはずだ。</p>

    <p>これら豊富な例示をよく見ることがマークアップするための第一歩と言って良い。</p>

    <h2 id="著作権表示のマークアップ">著作権表示のマークアップ</h2>

    <p>例えば著作権情報の表示をマークアップすることを考えてみよう。ウェブサイトによくあるCopyright云々というあれだ。日本では特に必要とされることはないが、色々入り混じる部分なのでこれを取り上げる。典型的な文言は以下のようなものだろう。</p>

    <blockquote>
      <p>Copyright © 2014 W3C ®, All Rights Reserved.</p>
    </blockquote>

    <p>古くはaddressing copyright informationなどという体で<code>address</code>要素を使ってマークアップされているウェブページはよく見た。今もかなりあるが、そういうウェブページでは以下のようなHTMLコードになっている。</p>

    <pre><code class="language-html">&lt;div class=&quot;footer&quot;&gt;
  ...
  &lt;address&gt;Copyright &amp;copy; 2014 W3C &amp;reg;, All Rights Reserved.&lt;/address&gt;
&lt;/div&gt;
</code></pre>

    <p>HTML5では<a href="http://www.w3.org/TR/html5/sections.html#the-address-element"><code>address</code>要素は連絡先を表す要素</a>であるとはっきりと書かれるようになった。直接は言及されていないが、最終更新日時の例のように著作権表示にも使うべきではないと言っていると考えて良いだろう。この項の最後の例にあるように<code>p</code>要素と<code>small</code>要素を組み合わせてマークアップする。またUTF-8で書いているなら文字参照はもう必要ないだろう。</p>

    <pre><code class="language-html">&lt;footer&gt;
  ...
  &lt;p&gt;&lt;small&gt;Copyright © 2014 W3C ®, All Rights Reserved.&lt;/small&gt;&lt;/p&gt;
&lt;/footer&gt;
</code></pre>

    <p>仕様及びその例示からすると、まずはこれが適切なマークアップと考えられる。</p>

    <h3 id="small要素">small要素</h3>

    <p><a href="http://www.w3.org/TR/html401/present/graphics.html#edef-SMALL">HTML 4.01では<code>small</code>要素は単に小さい文字で表示するための要素</a>であったが、<a href="http://www.w3.org/TR/html5/text-level-semantics.html#the-small-element">HTML5では小さく書かれることが多い補足的な文字列(small print)を表す要素</a>と改められた。典型的な使われ方は以下のようなものだ。</p>

    <pre><code class="language-html">&lt;p&gt;たまご 1パック 100円
  &lt;small&gt;ただし、お一人様につき1パックまで&lt;/small&gt;&lt;/p&gt;
</code></pre>

    <p>主となるコンテンツであるところの<em>安売りの値段</em>があった上で、その補足的な文であるところの<em>購入数の制限</em>を<code>small</code>要素でマークアップすることになる。仕様では<code>small</code>要素は他に注意書きや法に基づく表示義務に加え、著作権表示にも使うことが出来るとされている。既に挙げた著作権表示のマークアップは、<code>small</code>要素の観点からも適切だと言えるだろう。</p>

    <h3 id="footer要素とsmall要素">footer要素とsmall要素</h3>

    <p><code>footer</code>要素には多くの場合、著作権表示以外にも様々な情報が格納される。制作者の連絡先であったり、文書の公開日時であったりだ。<code>footer</code>要素そのものにより、その中身が配置されたセクションの様々な情報であることを表すことができる。要素の用途としては<code>small</code>要素と似ているところがあると言って良いだろう。</p>

    <p>両者を組み合わせることはできるが、かと言って<code>footer</code>要素の中身はすべて<code>small</code>要素でマークアップするべきかというとそうではない。その中で補足的なものに限られるべきだろう。つまり主たる何かがあってこその補足であり、<code>small</code>要素であるということだ。既に挙げたマークアップ例では<code>...</code>に何か他の<code>footer</code>要素にふさわしいコンテンツがあると考えると、それらが主であり、著作権情報が補足とすれば適切なマークアップと言える。</p>

    <p>だが仮に<code>footer</code>要素に著作権表示しかないとすると、<code>small</code>要素を使わない方がより適切になるだろう。</p>

    <pre><code class="language-html">&lt;footer&gt;
  &lt;p&gt;Copyright © 2014 W3C ®, All Rights Reserved.&lt;/p&gt;
&lt;/footer&gt;
</code></pre>

    <p>併用するのはいかにも冗長であるから、と言うことではなく、<em><code>small</code>要素足る条件を満たしていない</em>と考えられるから、だ。</p>

    <h3 id="p要素とdiv要素">p要素とdiv要素</h3>

    <p>さて、このような著作権表示の場合、<code>p</code>要素を使って段落とする必要があるのかという疑問があるだろう。なんとか文ではあるが、段落と呼べるようなものではないので、汎用要素である<code>div</code>要素の方が適切と考えても不思議ではない。この辺りのことは日本語における意味段落と形式段落の違いや、英語におけるparagraphとの違いも相まって、古くから議論の尽きない問題だった。<q><a href="https://twitter.com/_tsmd/status/547979202494869504">字下げして違和感があるかどうか</a></q>という考え方は妥当な結論だったように思う。</p>

    <p>HTML5では<a href="http://www.w3.org/TR/html5/dom.html#paragraph">仕様においてこのparagraphというもの</a>が触れられるようになった。簡単に言うと単に特定の話題に関する一連の文(意味段落)やタイポグラフィー都合上の文のまとまり(形式段落)というだけではなく、何かをひとまとまりしたものであっても良いとされている。<a href="http://www.w3.org/TR/html5/grouping-content.html#the-p-element"><code>p</code>要素はこのparagraphを表すもの</a>であるので、例えば<code>label</code>要素と<code>input</code>要素など、何かをひとまとめにしたい場合は<code>p</code>要素が適切な要素ということになる。</p>

    <p>すなわち<code>p</code>要素が<a href="http://www.w3.org/TR/html5/dom.html#phrasing-content-1">子に持てる要素達(phrasing content)</a>をまとめるための汎用的な要素として機能するようになったので、<code>div</code>要素は<code>p</code>要素が子に持てないような要素を含めてひとまとめにしたい時に使うものとなった、とも考えられる。つまり著作権表示において、<code>div</code>要素を使うことは間違いではないが、<code>p</code>要素の方が適切であることは疑いないと言って良いだろう。</p>

    <h3 id="footer要素とp要素">footer要素とp要素</h3>

    <p>それでは<code>footer</code>要素に著作権表示のみならば<code>p</code>要素は必要なのだろうか。まとめる必要性はかなり薄いと考えられる上、paragraphの定義において、わざわざマークアップせずとも暗黙にparagraphとみなされるであろうことが触れられている。つまり特に必要のない<code>p</code>要素で、これは単に冗長なマークアップと言えるだろう。</p>

    <pre><code class="language-html">&lt;footer&gt;Copyright © 2014 W3C ®, All Rights Reserved.&lt;/footer&gt;
</code></pre>

    <p><code>footer</code>要素に著作権表示のみならば、こうマークアップするのが最も適切であると結論できる。</p>

    <h3 id="スタイリングとの兼ね合い">スタイリングとの兼ね合い</h3>

    <p>だが僕たちはCSSで文書の体裁を整える必要がある。その場合に<code>footer</code>要素直下に直接文字列がくるのはなんとも都合が悪い。ともすると<code>small</code>要素が著作権情報の表示に使えると仕様で触れられていることを意識して、こうマークアップしてしまうかもしれない。</p>

    <pre><code class="language-html">&lt;footer&gt;
  &lt;small&gt;Copyright © 2014 W3C ®, All Rights Reserved.&lt;/small&gt;
&lt;/footer&gt;
</code></pre>

    <p>しかしこれは既に論じたように<code>small</code>要素足る条件を満たしていないので、間違いと言って良い。激しく非難するのなら似非セマンティクスと呼んでも良いだろう。ちょうど昔のTwitter Bootstrapがアイコンの表示に<em>空の</em><code>i</code>要素をidentifierだからと使っていたことに似ている。</p>

    <p>これらが大きく間違っていることは表層的な意味で要素を割り当てただけであって、文書の一部としてマークアップすることを考えていないところだ。identifierであるとして<code>i</code>要素を採用するなら、空ではなくidentifier足る何かがその子に必要だろう。またsmall printとして著作権情報を表示するため<code>small</code>要素を採用するなら、small printとなりうるための主たる何かが必要である、ということだ。</p>

    <p><code>small</code>要素で括ることは間違いだが、その一方で<code>p</code>要素でマークアップすることについては冗長であるとは言えるが、間違いではない。スタイリング都合のためなので、合わせて適当な値を<code>class</code>属性に設定してやる必要もきっとあることだろう。</p>

    <pre><code class="language-html">&lt;footer&gt;
  &lt;p class=&quot;copyright&quot;&gt;Copyright © 2014 W3C ®, All Rights Reserved.&lt;/p&gt;
&lt;/footer&gt;
</code></pre>

    <p>マークアップの適切さにおいては一歩譲るが、これはこれで適切さと保守性、拡張性のバランスがとれた良いマークアップと言える。スタイリングへの意識を欠かすことはできない現在においてはより実践的である、とも言えるだろう。</p>

    <h2 id="マークアップするということ">マークアップするということ</h2>

    <p>ここまで著作権表示を例にして適切なマークアップの模索について書いてきた。</p>

    <p>このように同じ文言であったとしてもその使われる文脈で適切なマークアップは変化するであろうし、HTMLではない周辺技術との兼ね合いを考えると更にまた違うものにもなりうる。しかし基本となるマークアップは常に仕様に従って決定できる。そこから文脈や周辺技術との兼ね合いを考慮して時に要素や属性を削り、時に要素や属性を加えていくこと、それが“マークアップ”するということだ。</p>

    <p>もちろんコンテンツがどのようなものかをよく考えて適切な要素を選択することは重要だ。だが、それだけではマークアップの半分でしかない。そこから更に思考し要素や属性を取捨選択していく、そこまでやってようやくマークアップだ、と言える。</p>

    <hr>

    <p>HTML5仕様では単なる語彙の変更や要素の追加だけではなく、非英語圏も視野に入れ、用語に至るまで様々な点で標準化がなされている。<code>p</code>要素の表すparagraphはそのもっとも顕著なもののひとつと言えるだろう。こういった仕様の変化は、単に文書の一部分をその意味を示唆する目印としてHTMLタグで括っていくのではなく、文書の一部としてここまで述べたような意味で“マークアップ”していくように変化することを促している。</p>

    <p>単純な保守性や拡張性を担保するにはもっと良いやり方もあるだろう。それこそ<code>div</code>と<code>span</code>要素のみですべて賄われたHTMLのようなもので制作されたウェブサイトでも十二分に機能する上、同時に異常な開発スピードをもたらす。しかしそういったHTMLのようなものが失ったものは多く、そしてこれから大きくフォーカスが当てられる部分はまさにそこだと多くの人が考えているはずだ。</p>

    <address>
      <p>Written by <a href="https://kyonagashima.com/">Kyo Nagashima</a>.</p>
    </address>

    <div class="adsense">
      <!-- Google AdSense -->
      <script type="text/javascript"><!--
        google_ad_client = "ca-pub-8712792805045949";
        /* Hail2u.net (160x600) */
        google_ad_slot = "9561802480";
        google_ad_width = 160;
        google_ad_height = 600;
        //-->
      </script>
      <script type="text/javascript"
        src="//pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
    </div>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42525667-1', 'hail2u.net');
      ga('send', 'pageview');
    </script>
  </body>
</html>
