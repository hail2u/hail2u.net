<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />

<title>ハッシュ付きURLへのアクセスで要素の位置がずれる</title>

<style type="text/css">
body {
  margin-top: 0;
  padding-top: 0;
}

#container {
  height: 120px;
  overflow: hidden;
}

#test img {
  border: 1px solid #f0f;
}
</style>
</head>
<body>
<h1>ハッシュ付きURLへのアクセスで要素の位置がずれる</h1>

<div>
  <p><a href="#test">Click to Test</a></p>
</div>

<div id="container">
  <p>dummy text</p>
  <div id="test"><img src="data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%03%08%02%00%00%00%D9J%22%E8%00%00%00%1BIDATx%9C%25%C5!%01%00%00%00%02%20%3F%F9%7F%1B%06)%04h%9B%87%3C%0C(%04%13%BA%AD%DE%22M%00%00%00%00IEND%AEB%60%82" alt="dummy" width="320" height="240" /></div>
</div>

<hr />

<ul>
<li>親要素の<code>overflow: hidden;</code></li>
<li>当該要素が親要素を飛び出す</li>
</ul>

<p>以上の条件がそろうと、当該要素を表示しようと親要素内でスクロールが起こる。結果、親要素内の要素の位置が全体的にずれる。仕様というか自然な挙動。</p>

</body>
</html>
