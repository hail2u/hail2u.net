<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">

    <title>Pseudo Display on Resize</title>


    <style>
      .test ul::before {
        content: 'lorem';
      }

      .test ul::before,
      .test li {
        display: block;
      }

      @media (max-width: 640px) {
        .test ul::before,
        .test li {
          display: table-cell;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Pseudo Display on Resize</h1>

      <p>擬似要素とその隣接する要素が<code>block</code>の状態から、ブラウザーをリサイズするとそれらが<code>table-cell</code>になるようにメディア・クエリーを使って調節した場合、Chrome 43では擬似要素だけ<code>table-cell</code>に変化しない。</p>
    </header>

    <section class="test in-block">
      <h1>コンテナーが<code>block</code>の場合</h1>

      <ul>
        <li>ipsum</li>
        <li>dolor</li>
        <li>sit</li>
        <li>amet</li>
      </ul>

      <p>このリストでは擬似要素(lorem)とそれ以外のリスト項目(ipsum…amet)が<code>display: block</code>になるように指定してあり、幅640px以上のウィンドウでは縦並びになる。幅640pxを切ると<code>display: table-cell</code>に切り替わるため、横並びになるはずだが、Chrome 43では擬似要素のみ<code>display: block</code>のままのようにレンダリングされる。</p>

      <p>なおリサイズして切り替えた場合にのみ起こるため、幅640px以下の状態で再読み込みした場合はちゃんと横並びになる。</p>
    </section>
  </body>
</html>
