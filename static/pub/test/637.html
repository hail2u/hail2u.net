<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width" name="viewport">

    <title>Fetching when Prefetching</title>


    <link href="http://lorempixel.com/1000/1000/" rel="prefetch">
  </head>
  <body>
    <header>
      <h1>Fetching when Prefetching</h1>

      <p><code>rel=prefetch</code>で先読みしようとしたリソースを同じページ内で読み込んだ場合にどうなるか。</p>
    </header>

    <section>
      <h1>Dynamically Inserted Image after 1s</h1>

      <div id="test"></div>

      <p>Firefox 38では先読みがそのまま続行され、再度リクエストされることはない。対してChrome 43とInternet Explorer 11では2回リクエストされる。</p>

      <figure>
        <img src="637.png">
        <figcaption>Network Monitor on Chrome 43</figcaption>
      </figure>
    </section>

    <script>
      setTimeout(function () {
        document.getElementById("test").innerHTML = '<img src="http://lorempixel.com/1000/1000/">';
      }, 1000);
    </script>
  </body>
</html>
